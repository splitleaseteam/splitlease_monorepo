# Supabase Edge Functions - Local Environment Variables
# Copy this file to .env.local and fill in your values
# This file is used when running `supabase functions serve` locally

# ============================================
# SUPABASE (auto-configured in production)
# ============================================
# These are automatically set by Supabase in deployed functions.
# Only needed for local development with `supabase functions serve`.
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_ANON_KEY=your-local-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-local-service-role-key
# SUPABASE_DB_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# ============================================
# SITE URL
# ============================================
# Used by: ai-signup-guest, auth-user (magic link redirects)
SITE_URL=http://localhost:5173

# ============================================
# STRIPE (payments)
# ============================================
# Used by: create-payment-intent, stripe-webhook, process-date-change-fee
STRIPE_SECRET_KEY=sk_test_your-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# ============================================
# OPENAI (AI features)
# ============================================
# Used by: ai-gateway (_shared/openai.ts), house-manual (transcribe, parse, extract)
OPENAI_API_KEY=sk-your-openai-key-here

# ============================================
# TWILIO (SMS)
# ============================================
# Used by: emergency, send-sms, auth-user (magic link SMS),
#          messages/adminSendReminder, house-manual/initiateCall,
#          _shared/vmMessagingHelpers
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
# TWILIO_FROM_PHONE is used by vmMessagingHelpers (virtual meeting SMS)
TWILIO_FROM_PHONE=+1234567890

# ============================================
# SENDGRID (email)
# ============================================
# Used by: send-email, emergency/sendEmail, messages/adminSendReminder
SENDGRID_API_KEY=SG.your-sendgrid-key-here
SENDGRID_EMAIL_ENDPOINT=https://api.sendgrid.com/v3/mail/send
FROM_EMAIL=noreply@splitlease.com

# ============================================
# RESEND (email - cohost notifications)
# ============================================
# Used by: cohost-request/notify-host
RESEND_API_KEY=re_your-resend-key-here

# ============================================
# SLACK WEBHOOKS
# ============================================
# Used by: _shared/slack.ts (ErrorCollector), slack function, emergency
SLACK_WEBHOOK_GENERAL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_WEBHOOK_DATABASE_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_WEBHOOK_ACQUISITION=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ============================================
# SLACK BOT API (interactive messages)
# ============================================
# Used by: _shared/slack.ts (sendInteractiveMessage), cohost-request,
#          cohost-request-slack-callback
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_COHOST_CHANNEL_ID=C0123456789

# ============================================
# SLACK ERROR REPORTING
# ============================================
# Used by: _shared/errorReporting.ts
SLACK_ERROR_WEBHOOK=https://hooks.slack.com/services/YOUR/ERROR/WEBHOOK

# ============================================
# GOOGLE CALENDAR (virtual meetings)
# ============================================
# Used by: calendar-automation (processVirtualMeeting, testConfig)
GOOGLE_OAUTH_ACCESS_TOKEN=your-google-oauth-token
GOOGLE_TEAM_CALENDAR_ID=primary
GOOGLE_SERVICE_CALENDAR_ID=primary

# ============================================
# AI VIDEO / AUDIO TOOLS
# ============================================
# Used by: ai-tools/generateDeepfakeVideo, ai-tools/checkDeepfakeStatus
HEYGEN_API_KEY=your-heygen-key-here
# Used by: ai-tools/generateNarration
ELEVENLABS_API_KEY=your-elevenlabs-key-here
# Used by: ai-room-redesign/generate
GEMINI_API_KEY=your-gemini-key-here

# ============================================
# MONITORING
# ============================================
# Used by: _shared/errorReporting.ts
SENTRY_DSN=https://your-sentry-dsn-here
# Used by: _shared/functional/errorLog.ts (controls error verbosity)
ENVIRONMENT=development
