function i(e){return e?{Active:"active",active:"active",Completed:"completed",completed:"completed",Cancelled:"cancelled",cancelled:"cancelled",Pending:"pending",pending:"pending",Draft:"draft",draft:"draft"}[e]||e.toLowerCase():"unknown"}function t(e){if(!e)return null;const n=new Date(e);return isNaN(n.getTime())?null:n}function o(e){return e?{_id:e._id,id:e._id,bubbleId:e.bubble_id,agreementNumber:e["Agreement Number"]||null,status:i(e["Lease Status"]),leaseSigned:e["Lease signed?"]||!1,startDate:t(e["Reservation Period : Start"]),endDate:t(e["Reservation Period : End"]),createdAt:t(e["Created Date"]),modifiedAt:t(e["Modified Date"]),firstPaymentDate:t(e["First Payment Date"]),totalRent:parseFloat(e["Total Rent"])||0,totalCompensation:parseFloat(e["Total Compensation"])||0,paidToDate:parseFloat(e["Paid to Date from Guest"])||0,currentWeekNumber:parseInt(e["current week number"])||null,totalWeekCount:parseInt(e["total week count"])||null,guest:e.guest?u(e.guest):null,host:e.host?u(e.host):null,listing:e.listing?l(e.listing):null,proposal:e.proposal?{id:e.proposal._id}:null,stays:Array.isArray(e.stays)?e.stays.map(s):a(e["List of Stays"]),paymentRecords:Array.isArray(e.paymentRecords)?e.paymentRecords.map(r):[],dateChangeRequests:Array.isArray(e.dateChangeRequests)?e.dateChangeRequests.map(d):[],documents:e.documents||[],periodicTenancyAgreement:e["Periodic Tenancy Agreement"]||null,supplementalAgreement:e["supplemental agreement"]||e["Supplemental Agreement"]||null,creditCardAuthorizationForm:e["Form Credit Card Authorization"]||null,thread:e.Thread||null,checkInCode:e["Check-in Code"]||null,cancellationPolicy:e["Cancellation Policy"]||null,hostPayoutSchedule:e["Host Payout Schedule"]||null,wereDocumentsGenerated:e["were documents generated?"]||!1,throttling:{guestCanCreateRequests:e["Throttling - guest ability to create requests?"]??!0,hostCanCreateRequests:e["Throttling- host ability to create requests?"]??!0,guestShowWarning:!e["Throttling - guest NOT show warning popup"],hostShowWarning:!e["Throttling - host NOT show warning popup"]},guestReputationScore:parseInt(e["Reputation Score (GUEST)"])||null,hostReputationScore:parseInt(e["Reputation Score (HOST)"])||null,pending:e.pending||!1}:null}function u(e){return e?{_id:e._id,id:e._id,email:e.email||e.Email||null,firstName:e["Name - First"]||e["First Name"]||e.first_name||null,lastName:e["Name - Last"]||e["Last Name"]||e.last_name||null,fullName:e["Name - Full"]||null,phone:e["Phone Number"]||e.Phone||e.phone||null,avatarUrl:e["Profile Photo"]||e.avatar_url||null,isVerified:e["user verified?"]||!1}:null}function l(e){return e?{_id:e._id,id:e._id,name:e.Name||e["Listing Title"]||e.name||"Unnamed Listing",address:e.Address||e.address||null,neighborhood:e.Neighborhood||e.neighborhood||null,city:e.City||e.city||null,state:e.State||e.state||null,zipCode:e["Zip Code"]||e.zip_code||null,imageUrl:e["Cover Photo"]||e["Primary Image"]||e.image_url||null}:null}function s(e){return e?{_id:e._id,id:e._id,status:e["Stay Status"]||"unknown",checkIn:t(e["Check In (night)"]),checkOut:t(e["Check-out day"]),lastNight:t(e["Last Night (night)"]),weekNumber:parseInt(e["Week Number"])||null,amount:parseFloat(e.Amount)||0,firstIndex:parseInt(e["first index"])||null,lastIndex:parseInt(e["last index"])||null,nights:a(e.Nights),dates:a(e["Dates - List of dates in this period"]),reviewSubmittedByGuest:e["Review Submitted by Guest"]||null,reviewSubmittedByHost:e["Review Submitted by Host"]||null}:null}function r(e){return e?{_id:e._id,id:e._id,leaseId:e["Booking - Reservation"],paymentNumber:e["Payment #"],scheduledDate:t(e["Scheduled Date"]),actualDate:t(e["Actual Date"]),rent:parseFloat(e["Rent Amount"])||0,maintenanceFee:parseFloat(e["Maintenance Fee"])||0,damageDeposit:parseFloat(e["Damage Deposit"])||0,totalAmount:parseFloat(e["Total Amount"])||0,bankTransactionNumber:e["Bank Transaction Number"]||null,receiptUrl:e["Payment Receipt"]||null,isPaid:e["Is Paid"]||!1,isRefunded:e["Is Refunded"]||!1}:null}function d(e){return e?{_id:e._id,id:e._id,leaseId:e.Lease,requestedById:e["Requested by"],requestReceiverId:e["Request receiver"],requestedBy:e.requestedByUser?u(e.requestedByUser):null,requestStatus:e.status,stayAssociated1:e["Stay Associated 1"],stayAssociated2:e["Stay Associated 2"],requestType:e["Request Type"],listOfOldDates:a(e["Original Date"]),listOfNewDates:a(e["Requested Date"]),priceAdjustment:e["Price Adjustment"],dateAdded:t(e["Created Date"]),visibleToGuest:e["visible to guest"]??!0}:null}function a(e){if(Array.isArray(e))return e;if(typeof e=="string")try{return JSON.parse(e)}catch{return[]}return[]}export{o as a};
