import{r as n,j as e,c as Ge,R as Oe}from"./client-BJVKzfAi.js";import{H as $}from"./Header-BJKWma2V.js";import{F as Y}from"./Footer-Bzf1rLKh.js";import{L as $e}from"./ListingScheduleSelector-B9O1H-bT.js";import{G as Ye}from"./GoogleMap-ICEUXkNW.js";import{E as Ue}from"./EditListingDetails-DI6p90mO.js";import{i as Xe}from"./dataLookups-zG18yzis.js";import{c as Qe,v as Ke,g as fe,i as Ve}from"./auth-QZ4BJadW.js";import{s as U}from"./supabase-BoCLEw6R.js";import{f as Ze,g as qe,a as Je}from"./listingDataFetcher-DGGxiGnp.js";import{v as et,c as tt,g as it,f as T}from"./availabilityValidation-CSGrEd4b.js";import{D as ot,C as r}from"./constants-CPVJY5eo.js";import{a as rt}from"./nightCalculations-BvAtd4RD.js";import{a as st}from"./Toast-BQk6Nzgd.js";import{E as nt}from"./ErrorBoundary-9_HbXv1y.js";/* empty css             */import"./config-QPKPRtag.js";import"./proposalDataFetcher-CipdyWU2.js";import"./proposalStatuses-1Bj0NYR4.js";import"./x-CrJVeoCh.js";import"./createLucideIcon-CgZZH2OU.js";import"./chevron-right-DMpFmStq.js";import"./map-pin-Be7EkBk1.js";import"./square-BGeZC4Cm.js";import"./supabaseUtils-B40jh603.js";import"./aiService-Bc-ZcM1i.js";import"./houseRulesService-B9S6foqA.js";import"./photoUpload-vf9LU0fY.js";import"./nycZipCodes-DGfN4kWJ.js";function H({onClick:l,label:d="Edit"}){return e.jsxs("button",{onClick:l,style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",background:"transparent",border:`1px solid ${r.PRIMARY}`,borderRadius:"6px",color:r.PRIMARY,fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",marginLeft:"10px"},onMouseEnter:s=>{s.target.style.background=r.PRIMARY,s.target.style.color="white"},onMouseLeave:s=>{s.target.style.background="transparent",s.target.style.color=r.PRIMARY},children:[e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),d]})}function v({title:l,onEdit:d,editSection:s,focusField:x}){return e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.75rem"},children:[e.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"600",color:r.TEXT_DARK,margin:0},children:l}),d&&e.jsx(H,{onClick:()=>d(s,x)})]})}function at(l,d){const s=(d||"Every week").toLowerCase().trim();if(s==="every week"||s==="")return{actualWeeks:l,cycleDescription:null,showHighlight:!1};if(s.includes("one week on")&&s.includes("one week off")){const x=l/2;return{actualWeeks:Math.floor(x),cycleDescription:"1 week on, 1 week off",showHighlight:!0,weeksOn:1,weeksOff:1}}if(s.includes("two weeks on")&&s.includes("two weeks off")){const x=l/4;return{actualWeeks:Math.floor(x*2),cycleDescription:"2 weeks on, 2 weeks off",showHighlight:!0,weeksOn:2,weeksOff:2}}if(s.includes("one week on")&&s.includes("three weeks off")){const x=l/4;return{actualWeeks:Math.floor(x),cycleDescription:"1 week on, 3 weeks off",showHighlight:!0,weeksOn:1,weeksOff:3}}return{actualWeeks:l,cycleDescription:null,showHighlight:!1}}function lt({reservationSpan:l,weeksOffered:d}){const s=at(l,d);return s.showHighlight?e.jsxs("div",{style:{marginTop:"8px",padding:"10px 12px",background:"linear-gradient(135deg, #EDE9FE 0%, #F3E8FF 100%)",borderRadius:"8px",border:"1px solid #C4B5FD",fontSize:"13px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#7C3AED",strokeWidth:"2",children:e.jsx("path",{d:"M8 2v4M16 2v4M3 10h18M5 4h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2z"})}),e.jsx("span",{style:{fontWeight:"600",color:"#5B21B6",textTransform:"uppercase",letterSpacing:"0.3px",fontSize:"11px"},children:s.cycleDescription})]}),e.jsxs("div",{style:{color:"#6B21A8"},children:[e.jsxs("span",{style:{fontWeight:"700"},children:[s.actualWeeks," actual weeks"]}),e.jsxs("span",{style:{color:"#7C3AED"},children:[" of stay within ",l,"-week span"]})]})]}):null}function dt(){return e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",padding:"2rem"},children:[e.jsx("div",{style:{width:"60px",height:"60px",border:`4px solid ${r.BG_LIGHT}`,borderTop:`4px solid ${r.PRIMARY}`,borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function ct({message:l}){return e.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",maxWidth:"600px",margin:"0 auto"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"âš ï¸"}),e.jsx("h2",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"1rem",color:r.TEXT_DARK},children:"Property Not Found"}),e.jsx("p",{style:{fontSize:"1.125rem",color:r.TEXT_LIGHT,marginBottom:"2rem"},children:l||"The property you are looking for does not exist or has been removed."}),e.jsx("a",{href:"/listing-dashboard",style:{display:"inline-block",padding:"1rem 2rem",background:r.PRIMARY,color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"600",transition:"background 0.2s"},onMouseEnter:d=>d.target.style.background=r.PRIMARY_HOVER,onMouseLeave:d=>d.target.style.background=r.PRIMARY,children:"Back to Dashboard"})]})}function ht({photos:l,listingName:d,onPhotoClick:s,onEdit:x}){const t=l.length,b=()=>t===1?{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"400px",gap:"10px"}:t===2?{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"400px",gap:"10px"}:t===3?{display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"200px 200px",gap:"10px"}:t===4?{display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"133px 133px 133px",gap:"10px"}:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gridTemplateRows:"200px 200px",gap:"10px"},y={cursor:"pointer",borderRadius:"12px",overflow:"hidden",position:"relative"},j={width:"100%",height:"100%",objectFit:"cover",display:"block"};return e.jsxs("div",{style:{position:"relative"},children:[x&&e.jsxs("button",{onClick:()=>x("photos"),style:{position:"absolute",top:"12px",right:"12px",zIndex:10,display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"white",border:"none",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",cursor:"pointer",fontWeight:"600",fontSize:"13px",color:r.TEXT_DARK},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit Photos"]}),t===1?e.jsx("div",{style:b(),children:e.jsx("div",{onClick:()=>s(0),style:y,children:e.jsx("img",{src:l[0].Photo,alt:`${d} - main`,style:j})})}):t===2?e.jsx("div",{style:b(),children:l.map((p,g)=>e.jsx("div",{onClick:()=>s(g),style:y,children:e.jsx("img",{src:p.Photo,alt:`${d} - ${g+1}`,style:j})},p._id))}):t===3?e.jsxs("div",{style:b(),children:[e.jsx("div",{onClick:()=>s(0),style:{...y,gridRow:"1 / 3"},children:e.jsx("img",{src:l[0].Photo,alt:`${d} - main`,style:j})}),l.slice(1,3).map((p,g)=>e.jsx("div",{onClick:()=>s(g+1),style:y,children:e.jsx("img",{src:p["Photo (thumbnail)"]||p.Photo,alt:`${d} - ${g+2}`,style:j})},p._id))]}):t===4?e.jsxs("div",{style:b(),children:[e.jsx("div",{onClick:()=>s(0),style:{...y,gridRow:"1 / 4"},children:e.jsx("img",{src:l[0].Photo,alt:`${d} - main`,style:j})}),l.slice(1,4).map((p,g)=>e.jsx("div",{onClick:()=>s(g+1),style:y,children:e.jsx("img",{src:p["Photo (thumbnail)"]||p.Photo,alt:`${d} - ${g+2}`,style:j})},p._id))]}):e.jsxs("div",{style:b(),children:[e.jsx("div",{onClick:()=>s(0),style:{...y,gridRow:"1 / 3"},children:e.jsx("img",{src:l[0].Photo,alt:`${d} - main`,style:j})}),l.slice(1,5).map((p,g)=>e.jsxs("div",{onClick:()=>s(g+1),style:y,children:[e.jsx("img",{src:p["Photo (thumbnail)"]||p.Photo,alt:`${d} - ${g+2}`,style:j}),g===3&&t>5&&e.jsxs("button",{onClick:D=>{D.stopPropagation(),s(0)},style:{position:"absolute",bottom:"12px",right:"12px",background:"white",border:"none",padding:"8px 12px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",cursor:"pointer",fontWeight:"600",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),e.jsx("span",{children:"Show All Photos"})]})]},p._id))]})]})}function pt(){return e.jsxs("div",{style:{background:"linear-gradient(135deg, #EDE9FE 0%, #FDF4FF 100%)",border:"1px solid #C4B5FD",borderRadius:"12px",padding:"16px 20px",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#7C3AED",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",color:"#5B21B6",marginBottom:"2px"},children:"Host Preview Mode"}),e.jsx("div",{style:{fontSize:"13px",color:"#7C3AED"},children:"This is how guests will see your listing. Click the edit buttons to make changes."})]})]})}function gt(){var oe,re,se,ne,ae,le,de,ce,he,pe,ge,me;const[l,d]=n.useState(!0),[s,x]=n.useState(null),[t,b]=n.useState(null),[y,j]=n.useState(null),[p,g]=n.useState(null),[D,X]=n.useState(!1),[ye,Q]=n.useState(null),[je,K]=n.useState(null),[be,ve]=n.useState(null),[P,V]=n.useState([]),[k,ke]=n.useState(13),[we,Se]=n.useState(null),Te=n.useMemo(()=>{const i=new Date,o=new Date(i);return o.setDate(i.getDate()+14),o.toISOString().split("T")[0]},[]),F=P.map(i=>i.dayOfWeek),[Re,I]=n.useState(!1),[A,z]=n.useState(0),[w,Be]=n.useState({description:!1,neighborhood:!1,blockedDates:!1}),[f,Z]=n.useState(!1),[q,J]=n.useState(!1),N=n.useRef(null),W=n.useRef(null),Ce=n.useRef(null),Ie=n.useRef(null),We=n.useRef(null);n.useEffect(()=>{async function i(){var a,c,R,B,C,E,M;try{if(await Xe(),await Qe()){const L=await Ke({clearOnFailure:!1});if(L)g(L),console.log("[PreviewSplitLeasePage] User data loaded:",L["Name - First"]||L.firstName);else{const{data:{session:m}}=await U.auth.getSession();if(m!=null&&m.user){const ue={_id:((a=m.user.user_metadata)==null?void 0:a.user_id)||Ve()||m.user.id,id:m.user.id,"Name - First":((c=m.user.user_metadata)==null?void 0:c.first_name)||fe()||((R=m.user.email)==null?void 0:R.split("@")[0])||"Host","Name - Last":((B=m.user.user_metadata)==null?void 0:B.last_name)||"",email:m.user.email,firstName:((C=m.user.user_metadata)==null?void 0:C.first_name)||fe()||((E=m.user.email)==null?void 0:E.split("@")[0])||"Host",lastName:((M=m.user.user_metadata)==null?void 0:M.last_name)||""};g(ue),console.log("[PreviewSplitLeasePage] Using fallback session data:",ue.firstName)}else console.log("âš ï¸ PreviewSplitLeasePage: Session valid but no user data, continuing in read-only mode")}}else console.log("âš ï¸ PreviewSplitLeasePage: User not authenticated, continuing in read-only mode");const Ne=await Ze();j(Ne);const xe=qe();if(!xe)throw new Error("No listing ID provided in URL");const _e=await Je(xe);b(_e),d(!1)}catch(O){console.error("Error initializing preview page:",O),x(O.message),d(!1)}}i();const o=window.matchMedia("(max-width: 900px)");Z(o.matches);const h=a=>Z(a.matches);return o.addEventListener("change",h),()=>o.removeEventListener("change",h)},[]),n.useEffect(()=>{if(!W.current)return;const i=new IntersectionObserver(o=>{o.forEach(h=>{(h.isIntersecting||h.intersectionRatio>0)&&(J(!0),i.disconnect())})},{rootMargin:"200px",threshold:0});return i.observe(W.current),()=>i.disconnect()},[t]),n.useEffect(()=>{t!=null&&t.Name&&(document.title=`Preview: ${t.Name} | Split Lease`)},[t]);const Ee=i=>{if(!i||!Array.isArray(i))return[0,1,2,3,4,5,6];const o={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},h=i.map(a=>o[a]).filter(a=>a!==void 0);return h.length>0?h:[0,1,2,3,4,5,6]},ee=n.useMemo(()=>t?{id:t._id,firstAvailable:new Date(t[" First Available"]),lastAvailable:new Date(t["Last Available"]),numberOfNightsAvailable:t["# of nights available"]||7,active:t.Active,approved:t.Approved,datesBlocked:t["Dates - Blocked"]||[],complete:t.Complete,confirmedAvailability:t.confirmedAvailability,checkInTime:t["NEW Date Check-in Time"]||"3:00 pm",checkOutTime:t["NEW Date Check-out Time"]||"11:00 am",nightsAvailableList:[],nightsAvailableNumbers:t["Nights Available (numbers)"]||[0,1,2,3,4,5,6],nightsNotAvailable:[],minimumNights:t["Minimum Nights"]||2,maximumNights:t["Maximum Nights"]||7,daysAvailable:Ee(t["Days Available (List of Days)"]),daysNotAvailable:[],"rental type":t["rental type"]||"Nightly","Weeks offered":t["Weeks offered"]||"Every week","ðŸ’°Unit Markup":t["ðŸ’°Unit Markup"]||0,"ðŸ’°Nightly Host Rate for 2 nights":t["ðŸ’°Nightly Host Rate for 2 nights"],"ðŸ’°Nightly Host Rate for 3 nights":t["ðŸ’°Nightly Host Rate for 3 nights"],"ðŸ’°Nightly Host Rate for 4 nights":t["ðŸ’°Nightly Host Rate for 4 nights"],"ðŸ’°Nightly Host Rate for 5 nights":t["ðŸ’°Nightly Host Rate for 5 nights"],"ðŸ’°Nightly Host Rate for 7 nights":t["ðŸ’°Nightly Host Rate for 7 nights"],"ðŸ’°Weekly Host Rate":t["ðŸ’°Weekly Host Rate"],"ðŸ’°Monthly Host Rate":t["ðŸ’°Monthly Host Rate"],"ðŸ’°Price Override":t["ðŸ’°Price Override"],"ðŸ’°Cleaning Cost / Maintenance Fee":t["ðŸ’°Cleaning Cost / Maintenance Fee"],"ðŸ’°Damage Deposit":t["ðŸ’°Damage Deposit"]}:null,[t]);n.useEffect(()=>{if(P.length===0){const i=ot.DEFAULT_SELECTED_DAYS.map(o=>rt(o,!0));V(i)}},[]);const _=t?et(F,t):null,S=tt(F),G=we;(!(_!=null&&_.valid)||!(G!=null&&G.valid))&&it(F.length);const te=n.useMemo(()=>{var i;return!t||!t.coordinates?[]:[{id:t._id,title:t.Name,coordinates:t.coordinates,price:{starting:t["Standarized Minimum Nightly Price (Filter)"]||0},location:t.resolvedBorough,type:t.resolvedTypeOfSpace,bedrooms:t["Features - Qty Bedrooms"]||0,bathrooms:t["Features - Qty Bathrooms"]||0,images:((i=t.photos)==null?void 0:i.map(o=>o.Photo))||[],borough:t.resolvedBorough}]},[t]),Me=i=>{V(i)},Le=n.useCallback(i=>{Se(o=>!o||o.fourWeekRent!==i.fourWeekRent||o.reservationTotal!==i.reservationTotal||o.nightlyRate!==i.nightlyRate?i:o)},[]),He=i=>{z(i),I(!0)},ie=i=>{Be(o=>({...o,[i]:!o[i]}))},u=(i,o=null)=>{Q(i),K(o),X(!0)},De=()=>{X(!1),Q(null),K(null)},Pe=async i=>{let o=null;if(i["Features - Photos"]){const h=typeof i["Features - Photos"]=="string"?JSON.parse(i["Features - Photos"]):i["Features - Photos"];Array.isArray(h)&&(o=h.map((a,c)=>typeof a=="object"&&a!==null?{_id:a.id||`photo_${c}`,Photo:a.Photo||a.url||"","Photo (thumbnail)":a["Photo (thumbnail)"]||a.Photo||a.url||"",toggleMainPhoto:a.toggleMainPhoto??c===0,SortOrder:a.SortOrder??c,Caption:a.caption||a.Caption||""}:{_id:`photo_${c}`,Photo:a,"Photo (thumbnail)":a,toggleMainPhoto:c===0,SortOrder:c,Caption:""}))}b(h=>({...h,...i,...o&&{photos:o}}))},Fe=async(i,o)=>{console.log("ðŸ“ Updating listing:",i,o);const h={"First Available":" First Available"},a={};for(const[C,E]of Object.entries(o)){const M=h[C]||C;a[M]=E}console.log("ðŸ“‹ DB updates:",a);const{error:c}=await U.from("listing").update(a).eq("_id",i);if(c)throw console.error("âŒ Error updating listing:",c),console.error("âŒ Error details:",c.code,c.message,c.details,c.hint),c;const{data:R,error:B}=await U.from("listing").select("*").eq("_id",i).maybeSingle();return B?(console.warn("âš ï¸ Update succeeded but failed to fetch updated data:",B),{_id:i,...a}):(console.log("âœ… Listing updated:",R),R)},Ae=(i,o=!1)=>{if(i.current){o&&!q&&J(!0);const c=i.current.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:c,behavior:"smooth"}),o&&setTimeout(()=>{N.current&&t&&N.current.zoomToListing(t._id)},600)}},ze=()=>Ae(W,!0);return l?e.jsxs(e.Fragment,{children:[e.jsx($,{}),e.jsx("main",{style:{minHeight:"70vh",paddingTop:"calc(80px + 2rem)"},children:e.jsx(dt,{})}),e.jsx(Y,{})]}):s||!t?e.jsxs(e.Fragment,{children:[e.jsx($,{}),e.jsx("main",{style:{minHeight:"70vh",paddingTop:"calc(80px + 2rem)"},children:e.jsx(ct,{message:s})}),e.jsx(Y,{})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{}),e.jsxs("main",{style:{maxWidth:"1400px",margin:"0 auto",padding:"2rem",paddingTop:"calc(100px + 2rem)",display:"grid",gridTemplateColumns:f?"1fr":"1fr 440px",gap:"2rem"},children:[e.jsxs("div",{className:"left-column",children:[e.jsx(pt,{}),e.jsx("section",{style:{marginBottom:"2rem"},children:t.photos&&t.photos.length>0?e.jsx(ht,{photos:t.photos,listingName:t.Name,onPhotoClick:He,onEdit:u}):e.jsxs("div",{style:{width:"100%",height:"400px",background:r.BG_LIGHT,borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:r.TEXT_LIGHT,gap:"12px"},children:[e.jsx("span",{children:"No images available"}),e.jsx(H,{onClick:()=>u("photos"),label:"Add Photos"})]})}),e.jsxs("section",{style:{marginBottom:"2rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:r.TEXT_DARK,margin:0},children:t.Name}),e.jsx(H,{onClick:()=>u("name")})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",color:r.TEXT_LIGHT},children:[t.resolvedNeighborhood&&t.resolvedBorough&&e.jsxs("span",{onClick:ze,style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",textDecoration:"underline",transition:"color 0.2s"},onMouseEnter:i=>i.target.style.color=r.PRIMARY,onMouseLeave:i=>i.target.style.color=r.TEXT_LIGHT,children:["Located in ",t.resolvedNeighborhood,", ",t.resolvedBorough]}),t.resolvedTypeOfSpace&&e.jsxs("span",{children:[t.resolvedTypeOfSpace," - ",t["Features - Qty Guests"]," guests max"]})]})]}),e.jsxs("section",{style:{marginBottom:"2rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",position:"relative"},children:[e.jsx("div",{style:{position:"absolute",top:"-30px",right:"0"},children:e.jsx(H,{onClick:()=>u("details"),label:"Edit Details"})}),t["Kitchen Type"]&&e.jsxs("div",{style:{textAlign:"center",padding:"1rem",background:r.BG_LIGHT,borderRadius:"8px"},children:[e.jsx("div",{style:{marginBottom:"0.5rem",display:"flex",justifyContent:"center",alignItems:"center",height:"2rem"},children:e.jsx("img",{src:"/assets/images/fridge.svg",alt:"Kitchen",style:{width:"2rem",height:"2rem"}})}),e.jsx("div",{children:t["Kitchen Type"]})]}),t["Features - Qty Bathrooms"]!==null&&e.jsxs("div",{style:{textAlign:"center",padding:"1rem",background:r.BG_LIGHT,borderRadius:"8px"},children:[e.jsx("div",{style:{marginBottom:"0.5rem",display:"flex",justifyContent:"center",alignItems:"center",height:"2rem"},children:e.jsx("img",{src:"/assets/images/bath.svg",alt:"Bathroom",style:{width:"2rem",height:"2rem"}})}),e.jsxs("div",{children:[t["Features - Qty Bathrooms"]," Bathroom(s)"]})]}),t["Features - Qty Bedrooms"]!==null&&e.jsxs("div",{style:{textAlign:"center",padding:"1rem",background:r.BG_LIGHT,borderRadius:"8px"},children:[e.jsx("div",{style:{marginBottom:"0.5rem",display:"flex",justifyContent:"center",alignItems:"center",height:"2rem"},children:e.jsx("img",{src:"/assets/images/sleeping.svg",alt:"Bedroom",style:{width:"2rem",height:"2rem"}})}),e.jsx("div",{children:t["Features - Qty Bedrooms"]===0?"Studio":`${t["Features - Qty Bedrooms"]} Bedroom${t["Features - Qty Bedrooms"]===1?"":"s"}`})]}),t["Features - Qty Beds"]!==null&&e.jsxs("div",{style:{textAlign:"center",padding:"1rem",background:r.BG_LIGHT,borderRadius:"8px"},children:[e.jsx("div",{style:{marginBottom:"0.5rem",display:"flex",justifyContent:"center",alignItems:"center",height:"2rem"},children:e.jsx("img",{src:"/assets/images/bed.svg",alt:"Bed",style:{width:"2rem",height:"2rem"}})}),e.jsxs("div",{children:[t["Features - Qty Beds"]," Bed(s)"]})]})]}),e.jsxs("section",{style:{marginBottom:"1.5rem"},children:[e.jsx(v,{title:"Description of Lodging",onEdit:u,editSection:"description"}),e.jsxs("p",{style:{lineHeight:"1.6",color:r.TEXT_LIGHT,whiteSpace:"pre-wrap"},children:[w.description?t.Description:(oe=t.Description)==null?void 0:oe.slice(0,360),((re=t.Description)==null?void 0:re.length)>360&&!w.description&&"..."]}),((se=t.Description)==null?void 0:se.length)>360&&e.jsx("button",{onClick:()=>ie("description"),style:{marginTop:"0.5rem",background:"none",border:"none",color:r.PRIMARY,cursor:"pointer",fontWeight:"600",textDecoration:"underline"},children:w.description?"Read Less":"Read More"})]}),t.storageOption&&e.jsxs("section",{style:{marginBottom:"1.5rem"},children:[e.jsx(v,{title:"Storage",onEdit:u,editSection:"details"}),e.jsx("div",{style:{padding:"1.5rem",background:r.BG_LIGHT,borderRadius:"12px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"1rem"},children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{minWidth:"24px",minHeight:"24px",color:r.PRIMARY},children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:t.storageOption.title}),e.jsx("div",{style:{color:r.TEXT_LIGHT,fontSize:"0.9375rem"},children:t.storageOption.summaryGuest||"Store your things between stays, ready when you return."})]})]})})]}),t["Description - Neighborhood"]&&e.jsxs("section",{style:{marginBottom:"1.5rem"},children:[e.jsx(v,{title:"Neighborhood",onEdit:u,editSection:"neighborhood"}),e.jsxs("p",{style:{lineHeight:"1.6",color:r.TEXT_LIGHT,whiteSpace:"pre-wrap"},children:[w.neighborhood?t["Description - Neighborhood"]:(ne=t["Description - Neighborhood"])==null?void 0:ne.slice(0,500),((ae=t["Description - Neighborhood"])==null?void 0:ae.length)>500&&!w.neighborhood&&"..."]}),((le=t["Description - Neighborhood"])==null?void 0:le.length)>500&&e.jsx("button",{onClick:()=>ie("neighborhood"),style:{marginTop:"0.5rem",background:"none",border:"none",color:r.PRIMARY,cursor:"pointer",fontWeight:"600",textDecoration:"underline"},children:w.neighborhood?"Read Less":"Read More"})]}),(t.parkingOption||t["Time to Station (commute)"])&&e.jsxs("section",{ref:Ce,style:{marginBottom:"1.5rem"},children:[e.jsx(v,{title:"Commute",onEdit:u,editSection:"details",focusField:"parking"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[t.parkingOption&&e.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"1rem"},children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{minWidth:"24px",minHeight:"24px",color:r.PRIMARY},children:[e.jsx("path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2"}),e.jsx("circle",{cx:"6.5",cy:"16.5",r:"2.5"}),e.jsx("circle",{cx:"16.5",cy:"16.5",r:"2.5"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600"},children:t.parkingOption.label}),e.jsx("div",{style:{color:r.TEXT_LIGHT,fontSize:"0.875rem"},children:"Convenient parking for your car"})]})]}),t["Time to Station (commute)"]&&e.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"1rem"},children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{minWidth:"24px",minHeight:"24px",color:r.PRIMARY},children:[e.jsx("rect",{x:"3",y:"6",width:"18",height:"11",rx:"2"}),e.jsx("path",{d:"M7 15h.01M17 15h.01M8 6v5M16 6v5"}),e.jsx("path",{d:"M3 12h18"})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:"600"},children:[t["Time to Station (commute)"]," to Metro"]}),e.jsx("div",{style:{color:r.TEXT_LIGHT,fontSize:"0.875rem"},children:"Quick walk to nearest station"})]})]})]})]}),(((de=t.amenitiesInUnit)==null?void 0:de.length)>0||((ce=t.safetyFeatures)==null?void 0:ce.length)>0)&&e.jsxs("section",{ref:Ie,style:{marginBottom:"1.5rem"},children:[e.jsx(v,{title:"Amenities",onEdit:u,editSection:"amenities"}),((he=t.amenitiesInUnit)==null?void 0:he.length)>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.5rem",color:r.TEXT_LIGHT,textTransform:"uppercase",letterSpacing:"0.5px"},children:"In-Unit"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.75rem"},children:t.amenitiesInUnit.map(i=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem"},children:[i.icon&&e.jsx("img",{src:i.icon,alt:"",style:{width:"24px",height:"24px"}}),e.jsx("span",{style:{fontSize:"0.875rem"},children:i.name})]},i.id))})]}),((pe=t.safetyFeatures)==null?void 0:pe.length)>0&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.5rem",color:r.TEXT_LIGHT,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Safety Features"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.75rem"},children:t.safetyFeatures.map(i=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem"},children:[i.icon&&e.jsx("img",{src:i.icon,alt:"",style:{width:"24px",height:"24px"}}),e.jsx("span",{style:{fontSize:"0.875rem"},children:i.name})]},i.id))})]})]}),((ge=t.houseRules)==null?void 0:ge.length)>0&&e.jsxs("section",{ref:We,style:{marginBottom:"1.5rem"},children:[e.jsx(v,{title:"House Rules",onEdit:u,editSection:"rules"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.houseRules.map(i=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem"},children:[i.icon&&e.jsx("img",{src:i.icon,alt:"",style:{width:"24px",height:"24px"}}),e.jsx("span",{children:i.name})]},i.id))})]}),e.jsxs("section",{ref:W,style:{marginBottom:"1.5rem"},children:[e.jsx(v,{title:"Map",onEdit:u,editSection:"location"}),e.jsx("div",{style:{height:"400px",borderRadius:"12px",overflow:"hidden",border:`1px solid ${r.BG_LIGHT}`,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:r.BG_LIGHT},children:q?e.jsx(Ye,{ref:N,listings:te,filteredListings:te,selectedBorough:t.resolvedBorough,simpleMode:!0,initialZoom:17,disableAutoZoom:!1}):e.jsx("div",{style:{color:r.TEXT_LIGHT,fontSize:"0.9rem",textAlign:"center"},children:"Loading map..."})})]}),t.cancellationPolicy&&e.jsxs("section",{style:{marginBottom:"1.5rem"},children:[e.jsx(v,{title:"Cancellation Policy",onEdit:u,editSection:"availability"}),e.jsxs("div",{style:{padding:"1.5rem",background:r.BG_LIGHT,borderRadius:"12px",border:`1px solid ${r.BG_LIGHT}`},children:[e.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",color:r.PRIMARY},children:t.cancellationPolicy.display}),t.cancellationPolicy.bestCaseText&&e.jsxs("div",{style:{marginBottom:"0.75rem"},children:[e.jsx("div",{style:{fontWeight:"600",color:"#16a34a",marginBottom:"0.25rem"},children:"Best Case"}),e.jsx("div",{style:{color:r.TEXT_LIGHT,fontSize:"0.9375rem",lineHeight:"1.6"},children:t.cancellationPolicy.bestCaseText})]}),t.cancellationPolicy.mediumCaseText&&e.jsxs("div",{style:{marginBottom:"0.75rem"},children:[e.jsx("div",{style:{fontWeight:"600",color:"#ea580c",marginBottom:"0.25rem"},children:"Medium Case"}),e.jsx("div",{style:{color:r.TEXT_LIGHT,fontSize:"0.9375rem",lineHeight:"1.6"},children:t.cancellationPolicy.mediumCaseText})]}),t.cancellationPolicy.worstCaseText&&e.jsxs("div",{style:{marginBottom:"0.75rem"},children:[e.jsx("div",{style:{fontWeight:"600",color:"#dc2626",marginBottom:"0.25rem"},children:"Worst Case"}),e.jsx("div",{style:{color:r.TEXT_LIGHT,fontSize:"0.9375rem",lineHeight:"1.6"},children:t.cancellationPolicy.worstCaseText})]})]})]})]}),e.jsxs("div",{className:"booking-widget",style:{position:f?"static":"sticky",top:f?"auto":"calc(80px + 20px)",alignSelf:"flex-start",maxHeight:"calc(100vh - 80px - 40px)",overflowY:"auto",height:"fit-content",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px",padding:"28px",background:"white",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3), 0 0 1px rgba(0, 0, 0, 0.05)",backdropFilter:"blur(10px)"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9ff 0%, #faf5ff 100%)",border:"1px solid #e9d5ff",borderRadius:"8px",padding:"10px 12px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#7C3AED",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),e.jsx("span",{style:{fontSize:"12px",fontWeight:"600",color:"#5B21B6"},children:"Host Preview - Guest View"})]}),e.jsx("div",{style:{background:"linear-gradient(135deg, #f8f9ff 0%, #faf5ff 100%)",padding:"12px",borderRadius:"12px",marginBottom:"16px",border:"1px solid #e9d5ff"},children:(t==null?void 0:t["rental type"])==="Weekly"&&(t!=null&&t["ðŸ’°Weekly Host Rate"])?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:"32px",fontWeight:"800",background:"linear-gradient(135deg, #31135d 0%, #31135d 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-1px",display:"inline-block"},children:["$",t["ðŸ’°Weekly Host Rate"],e.jsx("span",{style:{fontSize:"16px",color:"#6B7280",fontWeight:"500",background:"none",WebkitTextFillColor:"#6B7280"},children:"/week"})]}),e.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Your weekly host rate"})]}):(t==null?void 0:t["rental type"])==="Monthly"&&(t!=null&&t["ðŸ’°Monthly Host Rate"])?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:"32px",fontWeight:"800",background:"linear-gradient(135deg, #31135d 0%, #31135d 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-1px",display:"inline-block"},children:["$",t["ðŸ’°Monthly Host Rate"],e.jsx("span",{style:{fontSize:"16px",color:"#6B7280",fontWeight:"500",background:"none",WebkitTextFillColor:"#6B7280"},children:"/month"})]}),e.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Your monthly host rate"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:"32px",fontWeight:"800",background:"linear-gradient(135deg, #31135d 0%, #31135d 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-1px",display:"inline-block"},children:[(()=>{const i=`ðŸ’°Nightly Host Rate for ${S} nights`,o=(t==null?void 0:t[i])||(t==null?void 0:t["ðŸ’°Nightly Host Rate for 4 nights"]);return o?`$${o}`:"Select Days"})(),e.jsx("span",{style:{fontSize:"16px",color:"#6B7280",fontWeight:"500",background:"none",WebkitTextFillColor:"#6B7280"},children:"/night"})]}),e.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:["Your rate for ",S," nights selected"]})]})}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsxs("label",{style:{fontSize:"12px",fontWeight:"700",color:"#31135d",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Ideal Move-In",e.jsx("svg",{style:{width:"16px",height:"16px",color:"#9CA3AF"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsx("input",{type:"date",value:be||"",min:Te,onChange:i=>ve(i.target.value),className:"preview-date-input"})]}),ee&&e.jsx("div",{style:{marginBottom:"14px",padding:"12px",background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",borderRadius:"12px",border:"1px solid #E5E7EB"},children:e.jsx($e,{listing:ee,initialSelectedDays:P,limitToFiveNights:!1,reservationSpan:k,zatConfig:y,onSelectionChange:Me,onPriceChange:Le,showPricing:!1})}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{fontSize:"12px",fontWeight:"700",color:"#31135d",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Reservation Span"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("select",{value:k,onChange:i=>ke(Number(i.target.value)),className:"preview-select-input",children:[6,7,8,9,10,12,13,16,17,20,22,26].map(i=>e.jsxs("option",{value:i,children:[i," weeks ",i>=12?`(${Math.floor(i/4)} months)`:""]},i))}),e.jsx("div",{style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",width:"0",height:"0",borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #31135d",pointerEvents:"none"}})]}),e.jsx(lt,{reservationSpan:k,weeksOffered:t==null?void 0:t["Weeks offered"]})]}),e.jsx("div",{style:{marginBottom:"12px",padding:"12px",background:"linear-gradient(135deg, #f9fafb 0%, #ffffff 100%)",borderRadius:"10px",border:"1px solid #E5E7EB"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"15px",marginBottom:"8px"},children:[e.jsx("span",{style:{color:"#111827",fontWeight:"500"},children:"4-Week Compensation"}),e.jsx("span",{style:{color:"#111827",fontWeight:"700",fontSize:"16px"},children:(()=>{if((t==null?void 0:t["rental type"])==="Weekly"&&(t!=null&&t["ðŸ’°Weekly Host Rate"]))return T(t["ðŸ’°Weekly Host Rate"]*4);if((t==null?void 0:t["rental type"])==="Monthly"&&(t!=null&&t["ðŸ’°Monthly Host Rate"]))return T(t["ðŸ’°Monthly Host Rate"]);{const i=`ðŸ’°Nightly Host Rate for ${S} nights`,o=(t==null?void 0:t[i])||(t==null?void 0:t["ðŸ’°Nightly Host Rate for 4 nights"]);return o?T(o*S*4):"Select Days"}})()})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"2px solid #E5E7EB",marginBottom:"10px"},children:[e.jsxs("span",{style:{fontSize:"16px",fontWeight:"700",color:"#111827"},children:["Est. ",k,"-Week Total"]}),e.jsx("span",{style:{fontSize:"28px",fontWeight:"800",background:"linear-gradient(135deg, #31135d 0%, #31135d 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:(()=>{if((t==null?void 0:t["rental type"])==="Weekly"&&(t!=null&&t["ðŸ’°Weekly Host Rate"]))return T(t["ðŸ’°Weekly Host Rate"]*k);if((t==null?void 0:t["rental type"])==="Monthly"&&(t!=null&&t["ðŸ’°Monthly Host Rate"]))return T(t["ðŸ’°Monthly Host Rate"]*(k/4));{const i=`ðŸ’°Nightly Host Rate for ${S} nights`,o=(t==null?void 0:t[i])||(t==null?void 0:t["ðŸ’°Nightly Host Rate for 4 nights"]);return o?T(o*S*k):"Select Days"}})()})]}),e.jsx("button",{onClick:()=>window.location.href=`/listing-dashboard.html?id=${t==null?void 0:t._id}`,style:{width:"100%",padding:"14px",background:"linear-gradient(135deg, #31135d 0%, #4c1d95 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:i=>{i.target.style.transform="translateY(-1px)",i.target.style.boxShadow="0 4px 12px rgba(49, 19, 93, 0.3)"},onMouseLeave:i=>{i.target.style.transform="translateY(0)",i.target.style.boxShadow="none"},children:"Back to Dashboard"})]})]}),Re&&t.photos&&t.photos.length>0&&e.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:f?"1rem":"2rem"},onClick:()=>I(!1),children:[e.jsx("button",{onClick:()=>I(!1),style:{position:"absolute",top:f?"1rem":"2rem",right:f?"1rem":"2rem",background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"2rem",width:"48px",height:"48px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1002},children:"x"}),e.jsx("img",{src:(me=t.photos[A])==null?void 0:me.Photo,alt:`${t.Name} - photo ${A+1}`,style:{maxWidth:f?"95vw":"90vw",maxHeight:f?"75vh":"80vh",objectFit:"contain",marginBottom:f?"6rem":"5rem"},onClick:i=>i.stopPropagation()}),e.jsxs("div",{style:{position:"absolute",bottom:f?"4rem":"5rem",left:"50%",transform:"translateX(-50%)",display:"flex",gap:f?"0.5rem":"1.5rem",alignItems:"center",zIndex:1001},children:[e.jsx("button",{onClick:i=>{i.stopPropagation(),z(o=>o>0?o-1:t.photos.length-1)},style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},children:"Previous"}),e.jsxs("span",{style:{color:"white",fontSize:"0.875rem"},children:[A+1," / ",t.photos.length]}),e.jsx("button",{onClick:i=>{i.stopPropagation(),z(o=>o<t.photos.length-1?o+1:0)},style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},children:"Next"})]}),e.jsx("button",{onClick:()=>I(!1),style:{position:"absolute",bottom:"1.5rem",left:"50%",transform:"translateX(-50%)",background:"white",border:"none",color:r.TEXT_DARK,padding:"0.75rem 2.5rem",borderRadius:"8px",cursor:"pointer",fontWeight:"600",zIndex:1001},children:"Close"})]}),D&&t&&e.jsx(Ue,{listing:t,editSection:ye,focusField:je,onClose:De,onSave:Pe,updateListing:Fe}),e.jsx(Y,{})]})}Ge(document.getElementById("root")).render(e.jsx(Oe.StrictMode,{children:e.jsx(nt,{children:e.jsx(st,{children:e.jsx(gt,{})})})}));
