import{j as e,r as p}from"./client-BJVKzfAi.js";import{v as S}from"./auth-QZ4BJadW.js";import{C as _,S as C}from"./star-OtPMgcH9.js";import{c as o}from"./createLucideIcon-CgZZH2OU.js";import{F as h}from"./file-text-Bqp_Hw0X.js";import{T as A}from"./triangle-alert-Bp6DQQmR.js";import{U as b}from"./users-d0RSvnp4.js";import{P as $}from"./pen-line-Duo49k9O.js";import{C as P}from"./calendar-CDI4qHEX.js";import{M as v}from"./mail-CRbL90NL.js";import{S as L,U as T}from"./user-check-CoCGzn5Y.js";import{D as q}from"./dollar-sign-Dn2-KjNW.js";import{S as z}from"./send-C4mziT0-.js";import{X as D}from"./x-CrJVeoCh.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],I=o("bot",E);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],H=o("building",V);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],R=o("database",O);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],G=o("menu",F);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Q=o("message-square",B);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],X=o("shield",W);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],K=o("sparkles",J);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Z=o("test-tube",Y);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ae=o("user-plus",ee);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],ie=o("wrench",se);function x({name:a,path:i,icon:s,description:n="",isActive:t=!1}){return e.jsxs("a",{href:i,className:`admin-header__dropdown-link ${t?"admin-header__dropdown-link--active":""}`.trim(),title:n,role:"menuitem","aria-current":t?"page":void 0,children:[e.jsx(s,{className:"admin-header__dropdown-link-icon",size:18}),e.jsx("span",{children:a})]})}function te({label:a,items:i,currentPath:s=window.location.pathname,className:n=""}){return e.jsxs("div",{className:`admin-header__nav-item ${n}`.trim(),children:[e.jsxs("button",{className:"admin-header__nav-trigger",type:"button","aria-haspopup":"true","aria-expanded":"false","aria-label":`Open ${a} menu`,children:[e.jsx("span",{className:"admin-header__nav-text",children:a}),e.jsx(_,{className:"admin-header__dropdown-icon"})]}),e.jsx("div",{className:"admin-header__dropdown",role:"menu","aria-label":`${a} pages`,children:i.map(t=>e.jsx(x,{...t,isActive:s===t.path},t.id))})]})}function y({user:a}){if(!a)return e.jsx("div",{className:"admin-header__user-section",children:e.jsx("span",{className:"admin-header__user-text",children:"Log In"})});const i=a.firstName||"User",s=a.email||"",n=a.isAdmin??!1,t=a.profilePhotoUrl||null;return e.jsxs("div",{className:"admin-header__user-section admin-header__user-section--logged-in",children:[e.jsxs("span",{className:"admin-header__user-text admin-header__user-text--logged-in",children:[i,", ",s,", admin user: ",n.toString()]}),t&&e.jsx("img",{src:t,alt:i,className:"admin-header__profile-img"})]})}const f=[{id:"admin-threads",name:"Admin Threads",path:"/_admin-threads",icon:Q,description:"Manage all messaging threads",bubbleUrl:"https://app.split.lease/version-test/_quick-threads-manage"},{id:"co-host-requests",name:"Co-Host Requests",path:"/_co-host-requests",icon:ae,description:"Review co-host partnership requests",bubbleUrl:"https://app.split.lease/version-test/_co-host-requests"},{id:"create-document",name:"Create Document",path:"/_create-document",icon:h,description:"Generate contracts and documents",bubbleUrl:"https://app.split.lease/version-test/_create-document"},{id:"create-suggested-proposal",name:"Create Suggested Proposal",path:"/_create-suggested-proposal",icon:K,description:"Generate AI-suggested booking proposals",bubbleUrl:null},{id:"emergency",name:"Emergency Management",path:"/_emergency",icon:A,description:"Handle emergency reports and incidents",bubbleUrl:"https://app.split.lease/version-test/_internal-emergency"},{id:"experience-responses",name:"Experience Responses",path:"/_experience-responses",icon:C,description:"Review guest experience feedback",bubbleUrl:"https://app.split.lease/version-test/_experience-responses"},{id:"guest-relationships",name:"Guest Relationships",path:"/_guest-relationships",icon:b,description:"Manage guest relationships and history",bubbleUrl:"https://app.split.lease/version-test/_guest-relationships-overview"},{id:"leases-overview",name:"Leases Overview",path:"/_leases-overview",icon:h,description:"View all active and past leases",bubbleUrl:"https://app.split.lease/version-test/_leases-overview"},{id:"listings-overview",name:"Listings Overview",path:"/_listings-overview",icon:H,description:"Manage all property listings",bubbleUrl:"https://app.split.lease/version-test/_listings-overview"},{id:"manage-informational-texts",name:"Manage Informational Texts",path:"/_manage-informational-texts",icon:$,description:"Edit site-wide informational content",bubbleUrl:"https://app.split.lease/version-test/_add-informational-texts"},{id:"manage-rental-applications",name:"Manage Rental Applications",path:"/_manage-rental-applications",icon:X,description:"Review and process rental applications",bubbleUrl:"https://app.split.lease/version-test/_rental-app-manage"},{id:"manage-virtual-meetings",name:"Manage Virtual Meetings",path:"/_manage-virtual-meetings",icon:P,description:"Schedule and manage virtual property tours",bubbleUrl:"https://app.split.lease/version-test/_manage-virtual-meetings"},{id:"message-curation",name:"Message Curation",path:"/_message-curation",icon:v,description:"Curate and moderate platform messages",bubbleUrl:"https://app.split.lease/version-test/_message-curation"},{id:"modify-listings",name:"Modify Listings",path:"/_modify-listings",icon:L,description:"Bulk edit listing properties",bubbleUrl:"https://app.split.lease/version-test/_modify-listings"},{id:"proposal-manage",name:"Proposal Management",path:"/_proposal-manage",icon:h,description:"Manage all booking proposals",bubbleUrl:"https://app.split.lease/version-test/_proposal-manage"},{id:"quick-price",name:"Quick Price Calculator",path:"/_quick-price",icon:q,description:"Calculate pricing scenarios",bubbleUrl:"https://app.split.lease/version-test/_quick-price"},{id:"send-magic-login-links",name:"Send Magic Login Links",path:"/_send-magic-login-links",icon:z,description:"Send passwordless login links to users",bubbleUrl:"https://app.split.lease/version-test/_send-magic-login-links"},{id:"verify-users",name:"Verify Users",path:"/_verify-users",icon:T,description:"Verify user identities and documents",bubbleUrl:"https://app.split.lease/version-test/_verify-users"}],k=[{id:"ai-tools",name:"AI Tools",path:"/_ai-tools",icon:I,description:"AI-powered admin utilities",bubbleUrl:null},{id:"email-sms-unit",name:"Email & SMS Unit Tests",path:"/_email-sms-unit",icon:v,description:"Test email templates and SMS messages",bubbleUrl:"https://app.split.lease/version-test/_email-sms-unit"},{id:"guest-simulation",name:"Guest Simulation",path:"/_guest-simulation",icon:b,description:"Simulate guest booking workflows",bubbleUrl:"https://app.split.lease/version-test/simulation-guest-proposals-mobile-day1"},{id:"internal-test",name:"Internal Test Page",path:"/_internal-test",icon:Z,description:"General testing and QA page",bubbleUrl:null},{id:"simulation-admin",name:"Simulation Admin",path:"/_simulation-admin",icon:ie,description:"Admin simulation controls",bubbleUrl:"https://app.split.lease/version-test/_simulation-admin"},{id:"usability-data-management",name:"Usability Data Management",path:"/_usability-data-management",icon:R,description:"Manage usability testing data",bubbleUrl:"https://app.split.lease/version-test/_usability-data"}],M={dropdowns:[{id:"corporate-pages",label:"Corporate Pages",items:f},{id:"unit-tests",label:"Unit Tests",items:k}]};function ne(a){return[...f,...k].find(s=>s.path===a)||null}function re({currentPath:a,user:i,showCTA:s,ctaText:n,onCTAClick:t}){return e.jsxs("div",{className:"admin-header__desktop",children:[e.jsxs("div",{className:"admin-header__left",children:[e.jsxs("a",{className:"admin-header__logo",href:"/",children:[e.jsx("img",{className:"admin-header__logo-img",src:"/assets/images/split-lease-purple-circle.png",alt:"Split Lease"}),e.jsx("span",{className:"admin-header__logo-text",children:"Split Lease"})]}),e.jsx("nav",{className:"admin-header__nav",role:"navigation","aria-label":"Admin pages navigation",children:M.dropdowns.map(l=>e.jsx(te,{label:l.label,items:l.items,currentPath:a},l.id))})]}),e.jsxs("div",{className:"admin-header__right",children:[s&&e.jsx("button",{className:"admin-header__cta-button",type:"button",onClick:t,children:n}),e.jsx(y,{user:i})]})]})}function oe({isOpen:a,onClose:i,children:s}){return e.jsxs("div",{className:`admin-header__mobile-menu ${a?"admin-header__mobile-menu--open":""}`.trim(),children:[e.jsx("div",{className:"admin-header__mobile-menu-header",children:e.jsx("button",{className:"admin-header__mobile-close",type:"button",onClick:i,"aria-label":"Close menu",children:e.jsx(D,{size:24})})}),e.jsx("div",{className:"admin-header__mobile-menu-content",children:s})]})}function le({label:a,items:i,currentPath:s=window.location.pathname}){const[n,t]=p.useState(!1),l=()=>{t(r=>!r)};return e.jsxs("div",{className:"admin-header__mobile-dropdown",children:[e.jsxs("button",{className:"admin-header__mobile-dropdown-trigger",type:"button",onClick:l,"aria-haspopup":"true","aria-expanded":n,"aria-label":`Toggle ${a} menu`,children:[e.jsx("span",{children:a}),e.jsx(_,{className:`admin-header__mobile-dropdown-icon ${n?"is-open":""}`.trim()})]}),e.jsx("div",{className:`admin-header__mobile-dropdown-content ${n?"admin-header__mobile-dropdown-content--open":""}`.trim(),role:"menu","aria-label":`${a} pages`,children:i.map(r=>e.jsx(x,{...r,isActive:s===r.path},r.id))})]})}function de({user:a,currentPath:i}){const[s,n]=p.useState(!1),t=()=>{n(r=>!r)},l=()=>{n(!1)};return e.jsxs("div",{className:"admin-header__mobile",children:[e.jsx("button",{className:"admin-header__hamburger",type:"button",onClick:t,"aria-label":"Open navigation menu","aria-expanded":s,children:e.jsx(G,{size:24})}),e.jsx("div",{className:"admin-header__mobile-logo",children:e.jsx("img",{src:"/assets/images/split-lease-purple-circle.png",alt:"Split Lease",className:"admin-header__logo-img"})}),e.jsxs(oe,{isOpen:s,onClose:l,children:[M.dropdowns.map(r=>e.jsx(le,{label:r.label,items:r.items,currentPath:i},r.id)),e.jsx(y,{user:a})]})]})}function we({user:a=null,currentPath:i=window.location.pathname,showCTA:s=!1,ctaText:n="Change Prices",onCTAClick:t=()=>{},className:l=""}){const[r,u]=p.useState(a),[c,w]=p.useState(i),[j,g]=p.useState(a===null);p.useEffect(()=>{let d=!0;async function U(){if(a!==null){g(!1);return}try{const m=await S({clearOnFailure:!1});d&&u(m)}catch(m){console.error("[AdminHeader] Failed to fetch user:",m),d&&u(null)}finally{d&&g(!1)}}return U(),()=>{d=!1}},[a]),p.useEffect(()=>{const d=()=>{w(window.location.pathname)};return window.addEventListener("popstate",d),()=>window.removeEventListener("popstate",d)},[]);const N=ne(c);return j?e.jsx("div",{className:"admin-header admin-header--loading",children:"Loading..."}):e.jsxs("header",{className:`admin-header ${l}`.trim(),role:"banner",children:[e.jsx(re,{currentPath:c,currentPage:N,user:r,showCTA:s,ctaText:n,onCTAClick:t}),e.jsx(de,{user:r,currentPath:c})]})}export{we as A,Q as M,ae as U};
