import{r as n,j as e,c as Ne}from"./client-BJVKzfAi.js";import{s as Se}from"./supabase-BoCLEw6R.js";import{A as De}from"./AdminHeader-tCInZd3n.js";import"./auth-QZ4BJadW.js";import"./star-OtPMgcH9.js";import"./createLucideIcon-CgZZH2OU.js";import"./file-text-Bqp_Hw0X.js";import"./triangle-alert-Bp6DQQmR.js";import"./users-d0RSvnp4.js";import"./pen-line-Duo49k9O.js";import"./calendar-CDI4qHEX.js";import"./mail-CRbL90NL.js";import"./user-check-CoCGzn5Y.js";import"./dollar-sign-Dn2-KjNW.js";import"./send-C4mziT0-.js";import"./x-CrJVeoCh.js";async function g(s,l={}){const{data:a,error:o}=await Se.functions.invoke("usability-data-admin",{body:{action:s,payload:l}});if(o)throw console.error(`[usabilityDataService] ${s} error:`,o),new Error(o.message||`Failed to execute ${s}`);if(!a.success)throw new Error(a.error||`${s} failed`);return a.data}async function Pe({search:s="",limit:l=50,offset:a=0}={}){return g("listHosts",{search:s,limit:l,offset:a})}async function Ce(s){return g("deleteHostData",{hostId:s})}async function Ie(s){return g("deleteHostListings",{hostId:s})}async function ke(s){return g("deleteHostTestStatus",{hostId:s})}async function we({search:s="",limit:l=50,offset:a=0}={}){return g("listGuests",{search:s,limit:l,offset:a})}async function Te(s){return g("deleteGuestData",{guestId:s})}async function Le(s){return g("deleteGuestTestStatus",{guestId:s})}async function Ee(s){return g("fetchListing",{listingId:s})}async function $e({listingId:s,guestId:l,moveInDate:a,selectedDayIndices:o,reservationWeeks:r,totalPrice:p,fourWeeksRent:u,nightlyPrice:d,notes:i=""}){return g("createQuickProposal",{listingId:s,guestId:l,moveInDate:a,selectedDayIndices:o,reservationWeeks:r,totalPrice:p,fourWeeksRent:u,nightlyPrice:d,notes:i})}async function Fe(s,l=!0){return g("deleteProposal",{proposalId:s,deleteThread:l})}function Ae({nightlyPrice:s,selectedDayIndices:l,reservationWeeks:a}){if(typeof s!="number"||s<0)return{fourWeeksRent:0,actualWeeks:0,totalPrice:0,initialPayment:0,nightlyPrice:0,daysPerWeek:0,totalNights:0};if(!Array.isArray(l)||l.length===0)return{fourWeeksRent:0,actualWeeks:a||0,totalPrice:0,initialPayment:0,nightlyPrice:s,daysPerWeek:0,totalNights:0};const o=a||0,r=l.length,p=r*o,u=s*r*4,d=s*r*o;return{fourWeeksRent:u,actualWeeks:o,totalPrice:d,initialPayment:u,nightlyPrice:s,daysPerWeek:r,totalNights:p}}function Ge(s){const l=["S","M","T","W","T","F","S"],a=new Set(s);return l.map((o,r)=>a.has(r)?o:"-").join("")}function He(s){return{S:0,M:1,T:2,W:3,Th:4,F:5,Sa:6}[s]??-1}function We(){return[0,1,2,3,4,5,6]}const Re=[{value:4,label:"4 weeks (1 month)"},{value:8,label:"8 weeks (2 months)"},{value:13,label:"13 weeks (3 months)"},{value:26,label:"26 weeks (6 months)"},{value:52,label:"52 weeks (1 year)"}],Me=["S","M","T","W","Th","F","Sa"];function Oe(){const[s,l]=n.useState([]),[a,o]=n.useState([]),[r,p]=n.useState(!1),[u,d]=n.useState(!1),[i,P]=n.useState(null),[b,j]=n.useState(null),[m,L]=n.useState(null),[E,v]=n.useState(null),[D,$]=n.useState(""),[f,I]=n.useState(null),[F,k]=n.useState(!1),[N,h]=n.useState(null),[A,R]=n.useState(""),[S,M]=n.useState([]),[w,z]=n.useState(13),[G,O]=n.useState(""),[J,U]=n.useState(!1),[X,B]=n.useState(!1),[Z,ee]=n.useState(null),[se,te]=n.useState(null),[T,Q]=n.useState(""),[ae,q]=n.useState(!1),[le,K]=n.useState(null),C=Ae({nightlyPrice:(f==null?void 0:f.nightlyPrice)||0,selectedDayIndices:S,reservationWeeks:w}),ne=Ge(S);n.useEffect(()=>{_(),V(),Y()},[_,V,Y]),n.useEffect(()=>{var t;(t=window.$crisp)!=null&&t.push&&window.$crisp.push(["do","chat:hide"])},[]);const Y=n.useCallback(()=>{const t=new Date;t.setDate(t.getDate()+7),R(t.toISOString().split("T")[0])},[]),_=n.useCallback(async()=>{try{p(!0);const t=await Pe();l(t.users||[])}catch(t){console.error("[Hosts] Load error:",t),c("Error",`Failed to load hosts: ${t.message}`)}finally{p(!1)}},[]),oe=n.useCallback(t=>{const x=s.find(y=>y.id===t);P(x||null)},[s]),re=n.useCallback(async()=>{if(!i){c("Error","Please select a host account first.");return}try{j("clearData");const t=await Ce(i.id);c("Success",`Cleared all threads, proposals, and data for ${i.fullName||i.email}.

Deleted ${t.deletedCounts.proposals} proposals and ${t.deletedCounts.threads} threads.`)}catch(t){c("Error",`Failed to clear host data: ${t.message}`)}finally{j(null)}},[i]),ie=n.useCallback(async()=>{if(!i){c("Error","Please select a host account first.");return}try{j("deleteListings");const t=await Ie(i.id);c("Success",`Deleted ${t.deletedCounts.listings} listings for ${i.fullName||i.email}.

Also deleted ${t.deletedCounts.proposals} associated proposals.`)}catch(t){c("Error",`Failed to delete host listings: ${t.message}`)}finally{j(null)}},[i]),ce=n.useCallback(async()=>{if(!i){c("Error","Please select a host account first.");return}try{j("deleteTestStatus");const t=await ke(i.id);c("Success",`Reset usability test status for ${t.user.firstName||t.user.email}.`)}catch(t){c("Error",`Failed to reset host test status: ${t.message}`)}finally{j(null)}},[i]),V=n.useCallback(async()=>{try{d(!0);const t=await we();o(t.users||[])}catch(t){console.error("[Guests] Load error:",t),c("Error",`Failed to load guests: ${t.message}`)}finally{d(!1)}},[]),de=n.useCallback(t=>{const x=a.find(y=>y.id===t);L(x||null)},[a]),ue=n.useCallback(async()=>{if(!m){c("Error","Please select a guest account first.");return}try{v("clearData");const t=await Te(m.id);c("Success",`Cleared all threads, proposals, and data for ${m.fullName||m.email}.

Deleted ${t.deletedCounts.proposals} proposals and ${t.deletedCounts.threads} threads.`)}catch(t){c("Error",`Failed to clear guest data: ${t.message}`)}finally{v(null)}},[m]),he=n.useCallback(async()=>{if(!m){c("Error","Please select a guest account first.");return}try{v("deleteTestStatus");const t=await Le(m.id);c("Success",`Reset usability test status for ${t.user.firstName||t.user.email}.`)}catch(t){c("Error",`Failed to reset guest test status: ${t.message}`)}finally{v(null)}},[m]),pe=n.useCallback(async()=>{if(!D.trim()){c("Error","Please enter a listing ID.");return}try{k(!0);const t=await Ee(D.trim());I(t.listing)}catch(t){c("Error",`Failed to load listing: ${t.message}`),I(null)}finally{k(!1)}},[D]),me=n.useCallback(t=>{const x=He(t);x!==-1&&M(y=>y.includes(x)?y.filter(W=>W!==x):[...y,x].sort((W,ve)=>W-ve))},[]),xe=n.useCallback(()=>{M(We())},[]),je=n.useCallback(t=>{const x=a.find(y=>y.id===t);h(x||null)},[a]),fe=n.useCallback(()=>{if(!f){c("Error","Please load a listing first.");return}if(!N){c("Error","Please select a guest.");return}if(S.length===0){c("Error","Please select at least one day.");return}B(!0)},[f,N,S]),H=n.useCallback(()=>{B(!1),O("")},[]),ge=n.useCallback(async()=>{try{U(!0);const t=await $e({listingId:f.id,guestId:N.id,moveInDate:A,selectedDayIndices:S,reservationWeeks:w,totalPrice:C.totalPrice,fourWeeksRent:C.fourWeeksRent,nightlyPrice:C.nightlyPrice,notes:G});ee(t.proposalId),te(t.threadId),H(),c("Success",`Proposal created successfully!

Proposal ID: ${t.proposalId}
Thread ID: ${t.threadId}`)}catch(t){c("Error",`Failed to create proposal: ${t.message}`)}finally{U(!1)}},[f,N,A,S,w,C,G,H]),ye=n.useCallback(async()=>{if(!T.trim()){c("Error","Please enter a proposal ID to delete.");return}try{q(!0);const t=await Fe(T.trim());Q(""),c("Success",`Proposal ${t.proposalId} has been deleted.${t.threadDeleted?" Associated thread was also deleted.":""}`)}catch(t){c("Error",`Failed to delete proposal: ${t.message}`)}finally{q(!1)}},[T]),c=n.useCallback((t,x)=>{K({title:t,content:x})},[]),be=n.useCallback(()=>{K(null)},[]);return{reservationSpans:Re,dayLabels:Me,hosts:s,hostsLoading:r,selectedHost:i,hostActionLoading:b,handleHostSelection:oe,handleClearHostData:re,handleDeleteHostListings:ie,handleDeleteHostTestStatus:ce,guests:a,guestsLoading:u,selectedGuest:m,guestActionLoading:E,handleGuestSelection:de,handleClearGuestData:ue,handleDeleteGuestTestStatus:he,listingIdInput:D,setListingIdInput:$,selectedListing:f,listingLoading:F,handleLoadListing:pe,selectedProposalGuest:N,handleProposalGuestSelection:je,moveInDate:A,setMoveInDate:R,selectedDayIndices:S,handleDayToggle:me,handleSelectFullTime:xe,reservationWeeks:w,setReservationWeeks:z,proposalNotes:G,setProposalNotes:O,pricing:C,dayPattern:ne,recentProposalId:Z,recentThreadId:se,proposalLoading:J,showProposalModal:X,handleOpenProposalModal:fe,handleCloseProposalModal:H,handleConfirmProposal:ge,deleteProposalIdInput:T,setDeleteProposalIdInput:Q,deleteProposalLoading:ae,handleDeleteProposal:ye,alert:le,closeAlert:be}}function Ue({hosts:s,hostsLoading:l,selectedHost:a,hostActionLoading:o,onHostSelection:r,onClearHostData:p,onDeleteHostListings:u,onDeleteHostTestStatus:d}){return e.jsxs("section",{className:"section",children:[e.jsx("h2",{className:"section-heading",children:"Delete Host Account Data"}),e.jsxs("div",{className:"section-content host-section",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"hostDropdown",children:"Choose A Host Account"}),e.jsxs("select",{id:"hostDropdown",className:"dropdown",value:(a==null?void 0:a.id)||"",onChange:i=>r(i.target.value),disabled:l,children:[e.jsx("option",{value:"",children:l?"Loading hosts...":"Choose A Host Account"}),s.map(i=>e.jsxs("option",{value:i.id,children:[i.fullName||i.email," (",i.email,")"]},i.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"hostEmail",children:"Host Email Address"}),e.jsx("input",{type:"text",id:"hostEmail",className:"text-input readonly",readOnly:!0,placeholder:"Insert Host Email Address",value:(a==null?void 0:a.email)||""})]}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{className:`btn btn-purple ${o==="clearData"?"loading":""}`,onClick:p,disabled:o!==null,children:"Clear threads, proposals and data on selected Host"}),e.jsx("button",{className:`btn btn-navy ${o==="deleteListings"?"loading":""}`,onClick:u,disabled:o!==null,children:"Delete Listings of selected Host"})]})]}),e.jsx("div",{className:"form-row",children:e.jsx("button",{className:`btn btn-purple ${o==="deleteTestStatus"?"loading":""}`,onClick:d,disabled:o!==null,children:"Delete Host Usability Test Status & Steps"})})]})]})}function Be({guests:s,guestsLoading:l,selectedGuest:a,guestActionLoading:o,onGuestSelection:r,onClearGuestData:p,onDeleteGuestTestStatus:u}){return e.jsxs("section",{className:"section",children:[e.jsx("h2",{className:"section-heading",children:"Delete Guest Account Data"}),e.jsxs("div",{className:"section-content guest-section",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"guestDropdown",children:"Choose a Guest Account"}),e.jsxs("select",{id:"guestDropdown",className:"dropdown",value:(a==null?void 0:a.id)||"",onChange:d=>r(d.target.value),disabled:l,children:[e.jsx("option",{value:"",children:l?"Loading guests...":"Choose a Guest Account"}),s.map(d=>e.jsxs("option",{value:d.id,children:[d.fullName||d.email," (",d.email,")"]},d.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"guestEmail",children:"Guest Email Address"}),e.jsx("input",{type:"text",id:"guestEmail",className:"text-input readonly",readOnly:!0,placeholder:"Insert Guest Email Address",value:(a==null?void 0:a.email)||""})]}),e.jsx("div",{className:"button-group",children:e.jsx("button",{className:`btn btn-purple ${o==="clearData"?"loading":""}`,onClick:p,disabled:o!==null,children:"Clear Threads, Proposals & Data on Selected Guest"})})]}),e.jsx("div",{className:"form-row",children:e.jsx("button",{className:`btn btn-purple ${o==="deleteTestStatus"?"loading":""}`,onClick:u,disabled:o!==null,children:"Delete Guest Usability Test Status & Steps"})})]})]})}function Qe(s){return{S:0,M:1,T:2,W:3,Th:4,F:5,Sa:6}[s]??-1}function qe({dayLabels:s,selectedDayIndices:l,onDayToggle:a,onSelectFullTime:o}){return e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reservation Days"}),e.jsx("div",{className:"days-selector",children:s.map(r=>{const p=Qe(r),u=l.includes(p),d=r==="Th"?"T":r==="Sa"?"S":r;return e.jsx("button",{type:"button",className:`day-btn ${u?"selected":""}`,"data-day":r,onClick:()=>a(r),title:Ke(r),children:d},r)})}),e.jsx("button",{type:"button",className:"select-full-time",onClick:r=>{r.preventDefault(),o()},children:"Select Full Time"})]})}function Ke(s){return{S:"Sunday",M:"Monday",T:"Tuesday",W:"Wednesday",Th:"Thursday",F:"Friday",Sa:"Saturday"}[s]||s}function Ye({listing:s}){const l=(s==null?void 0:s.photos)&&s.photos.length>0,a=l?s.photos[0]:null,o=l?s.photos[s.photos.length-1]:null;return e.jsxs("div",{className:"listing-preview",children:[e.jsx("h3",{children:"Listing Preview"}),e.jsxs("div",{className:"listing-photos",children:[e.jsx("div",{className:"photo-placeholder",children:a?e.jsx("img",{src:a,alt:"First Photo"}):e.jsx("span",{children:"First Photo"})}),e.jsx("div",{className:"photo-placeholder",children:o?e.jsx("img",{src:o,alt:"Last Photo"}):e.jsx("span",{children:"Last Photo"})})]}),e.jsx("p",{className:"listing-name",children:(s==null?void 0:s.name)||"No listing selected"}),e.jsx("p",{className:"listing-features",children:s?`ID: ${s.uniqueId||s.id} | Nightly: $${s.nightlyPrice||0}`:"Parent group's Listing's Features - Photos"})]})}function _e({dayPattern:s,pricing:l,reservationWeeks:a}){return e.jsxs("div",{className:"calculated-fields",children:[e.jsxs("div",{className:"calc-field",children:[e.jsx("label",{children:"Guest Desired Pattern:"}),e.jsx("span",{children:s||"-------"})]}),e.jsxs("div",{className:"calc-field",children:[e.jsx("label",{children:"T: 4 x weeks' rent:"}),e.jsxs("span",{children:["4 weeks rent: $",l.fourWeeksRent||0]})]}),e.jsxs("div",{className:"calc-field",children:[e.jsx("label",{children:"Actual Reservation Span:"}),e.jsxs("span",{children:[a||0," weeks"]})]}),e.jsxs("div",{className:"calc-field",children:[e.jsx("label",{children:"Actual # of Weeks:"}),e.jsx("span",{children:l.actualWeeks||0})]}),e.jsxs("div",{className:"calc-field",children:[e.jsx("label",{children:"Initial Payment:"}),e.jsxs("span",{children:["$",l.initialPayment||0]})]}),e.jsxs("div",{className:"calc-field",children:[e.jsx("label",{children:"Nightly Price:"}),e.jsxs("span",{children:["$",l.nightlyPrice||0]})]}),e.jsxs("div",{className:"calc-field total",children:[e.jsx("label",{children:"Total Reservation Price:"}),e.jsxs("span",{children:["$",l.totalPrice||0]})]})]})}function Ve({listingIdInput:s,onListingIdChange:l,selectedListing:a,listingLoading:o,onLoadListing:r,guests:p,selectedProposalGuest:u,onProposalGuestSelection:d,moveInDate:i,onMoveInDateChange:P,dayLabels:b,selectedDayIndices:j,onDayToggle:m,onSelectFullTime:L,reservationSpans:E,reservationWeeks:v,onReservationWeeksChange:D,pricing:$,dayPattern:f,recentProposalId:I,recentThreadId:F,onCreateProposal:k}){const N=h=>{h.key==="Enter"&&r()};return e.jsxs("section",{className:"section",children:[e.jsx("h2",{className:"section-heading",children:"Quick Proposal Creation"}),e.jsx("div",{className:"section-content proposal-creation",children:e.jsxs("div",{className:"proposal-grid",children:[e.jsxs("div",{className:"proposal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"listingId",children:"Listing Unique ID - START BY SELECTING A LISTING"}),e.jsx("input",{type:"text",id:"listingId",className:"text-input",placeholder:"Enter Listing ID",value:s,onChange:h=>l(h.target.value),onKeyPress:N}),e.jsx("button",{className:`btn btn-small btn-purple ${o?"loading":""}`,onClick:r,disabled:o,children:"Load Listing"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"proposalGuestDropdown",children:"Choose a Guest"}),e.jsxs("select",{id:"proposalGuestDropdown",className:"dropdown",value:(u==null?void 0:u.id)||"",onChange:h=>d(h.target.value),children:[e.jsx("option",{value:"",children:"Choose a guest"}),p.map(h=>e.jsxs("option",{value:h.id,children:[h.fullName||h.email," (",h.email,")"]},h.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"proposalGuestEmail",children:"Guest Email"}),e.jsx("input",{type:"text",id:"proposalGuestEmail",className:"text-input readonly",readOnly:!0,placeholder:"Insert guest email",value:(u==null?void 0:u.email)||""})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"moveInDate",children:"Move-in From"}),e.jsx("div",{className:"date-input-wrapper",children:e.jsx("input",{type:"date",id:"moveInDate",className:"text-input date-input",value:i,onChange:h=>P(h.target.value)})})]}),e.jsx(qe,{dayLabels:b,selectedDayIndices:j,onDayToggle:m,onSelectFullTime:L}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"reservationSpan",children:"Reservation Span"}),e.jsx("select",{id:"reservationSpan",className:"dropdown",value:v,onChange:h=>D(Number(h.target.value)),children:E.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx("p",{className:"help-text",children:"Pricing is calculated automatically when you change the dropdown above."})]}),e.jsx("button",{className:"btn btn-purple btn-large",onClick:k,children:"Create Proposal"})]}),e.jsxs("div",{className:"proposal-details",children:[e.jsx(_e,{dayPattern:f,pricing:$,reservationWeeks:v}),e.jsxs("div",{className:"metadata-display",children:[e.jsxs("div",{className:"meta-field",children:[e.jsx("label",{children:"Recently Created Proposal ID:"}),e.jsx("span",{children:I||"-"})]}),e.jsxs("div",{className:"meta-field",children:[e.jsx("label",{children:"Recently Created Thread ID:"}),e.jsx("span",{children:F||"-"})]})]}),e.jsx(Ye,{listing:a})]})]})})]})}function ze({proposalIdInput:s,onProposalIdChange:l,loading:a,onDelete:o}){return e.jsxs("section",{className:"section",children:[e.jsx("h2",{className:"section-heading",children:"Proposal Deletion"}),e.jsx("div",{className:"section-content proposal-deletion",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"deleteProposalId",children:"Enter ID of Proposal you want to delete:"}),e.jsx("input",{type:"text",id:"deleteProposalId",className:"text-input",placeholder:"Enter Proposal ID",value:s,onChange:r=>l(r.target.value)})]}),e.jsx("button",{className:`btn btn-danger ${a?"loading":""}`,onClick:o,disabled:a,children:"Delete"})]})})]})}function Je(s){const l=["S","M","T","W","Th","F","Sa"];return s.map(a=>l[a]).join(", ")}function Xe({listing:s,guest:l,moveInDate:a,selectedDayIndices:o,reservationWeeks:r,pricing:p,notes:u,onNotesChange:d,loading:i,onConfirm:P,onCancel:b}){const j=m=>{m.target===m.currentTarget&&b()};return e.jsx("div",{className:"modal active",onClick:j,children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Create Proposal"}),e.jsx("button",{type:"button",className:"modal-close",onClick:b,children:"Ã—"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"modal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Listing ID:"}),e.jsx("span",{children:(s==null?void 0:s.uniqueId)||(s==null?void 0:s.id)||"-"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Guest Email:"}),e.jsx("span",{children:(l==null?void 0:l.email)||"-"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Move-in Date:"}),e.jsx("span",{children:a||"Not selected"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Selected Days:"}),e.jsx("span",{children:Je(o)||"None"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reservation Span:"}),e.jsxs("span",{children:[r," weeks"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Price:"}),e.jsxs("span",{children:["$",p.totalPrice||0]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"additionalNotes",children:"Additional Notes:"}),e.jsx("textarea",{id:"additionalNotes",className:"text-input",rows:4,placeholder:"Enter any additional notes...",value:u,onChange:m=>d(m.target.value)})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:b,disabled:i,children:"Cancel"}),e.jsx("button",{type:"button",className:`btn btn-purple ${i?"loading":""}`,onClick:P,disabled:i,children:"Create Proposal"})]})]})})}function Ze({title:s,content:l,onClose:a}){return e.jsx("div",{className:"alert-overlay active",children:e.jsxs("div",{className:"alert-box purple-alert",children:[e.jsx("h3",{children:s}),e.jsx("p",{children:l}),e.jsx("button",{type:"button",className:"btn btn-purple",onClick:a,children:"OK"})]})})}function es(){const s=Oe();return e.jsxs("div",{className:"usability-page-container",children:[e.jsx(De,{}),e.jsx("h1",{className:"page-title",children:"Usability Test Data Deletion & Creation"}),e.jsx(Ue,{hosts:s.hosts,hostsLoading:s.hostsLoading,selectedHost:s.selectedHost,hostActionLoading:s.hostActionLoading,onHostSelection:s.handleHostSelection,onClearHostData:s.handleClearHostData,onDeleteHostListings:s.handleDeleteHostListings,onDeleteHostTestStatus:s.handleDeleteHostTestStatus}),e.jsx(Be,{guests:s.guests,guestsLoading:s.guestsLoading,selectedGuest:s.selectedGuest,guestActionLoading:s.guestActionLoading,onGuestSelection:s.handleGuestSelection,onClearGuestData:s.handleClearGuestData,onDeleteGuestTestStatus:s.handleDeleteGuestTestStatus}),e.jsx(Ve,{listingIdInput:s.listingIdInput,onListingIdChange:s.setListingIdInput,selectedListing:s.selectedListing,listingLoading:s.listingLoading,onLoadListing:s.handleLoadListing,guests:s.guests,selectedProposalGuest:s.selectedProposalGuest,onProposalGuestSelection:s.handleProposalGuestSelection,moveInDate:s.moveInDate,onMoveInDateChange:s.setMoveInDate,dayLabels:s.dayLabels,selectedDayIndices:s.selectedDayIndices,onDayToggle:s.handleDayToggle,onSelectFullTime:s.handleSelectFullTime,reservationSpans:s.reservationSpans,reservationWeeks:s.reservationWeeks,onReservationWeeksChange:s.setReservationWeeks,pricing:s.pricing,dayPattern:s.dayPattern,recentProposalId:s.recentProposalId,recentThreadId:s.recentThreadId,onCreateProposal:s.handleOpenProposalModal}),e.jsx(ze,{proposalIdInput:s.deleteProposalIdInput,onProposalIdChange:s.setDeleteProposalIdInput,loading:s.deleteProposalLoading,onDelete:s.handleDeleteProposal}),s.showProposalModal&&e.jsx(Xe,{listing:s.selectedListing,guest:s.selectedProposalGuest,moveInDate:s.moveInDate,selectedDayIndices:s.selectedDayIndices,reservationWeeks:s.reservationWeeks,pricing:s.pricing,notes:s.proposalNotes,onNotesChange:s.setProposalNotes,loading:s.proposalLoading,onConfirm:s.handleConfirmProposal,onCancel:s.handleCloseProposalModal}),s.alert&&e.jsx(Ze,{title:s.alert.title,content:s.alert.content,onClose:s.closeAlert})]})}const ss=Ne(document.getElementById("root"));ss.render(e.jsx(es,{}));
