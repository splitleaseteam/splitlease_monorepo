import{r,j as e,c as R,R as T}from"./client-BJVKzfAi.js";import{H as M}from"./Header-BJKWma2V.js";import{F as P}from"./Footer-Bzf1rLKh.js";import{s as H,h as B,L as Q,C as v}from"./help-center-BuLhnERW.js";import{s as U}from"./faq-DgUULKJI.js";import{S}from"./search-CwPLSYgc.js";import{A as $}from"./arrow-right-BZ6iPYHW.js";import{B as A}from"./book-open-C2XUWVN0.js";import{I as D}from"./info-CcVWtG4-.js";import{U as K}from"./users-d0RSvnp4.js";import{U as L}from"./user-C2rhnql4.js";import{F as W}from"./file-text-Bqp_Hw0X.js";import{E as Y}from"./ErrorBoundary-9_HbXv1y.js";/* empty css             */import"./config-QPKPRtag.js";import"./auth-QZ4BJadW.js";import"./supabase-BoCLEw6R.js";import"./constants-CPVJY5eo.js";import"./Toast-BQk6Nzgd.js";import"./proposalDataFetcher-CipdyWU2.js";import"./proposalStatuses-1Bj0NYR4.js";import"./createLucideIcon-CgZZH2OU.js";const z={User:L,Users:K,Info:D,LifeBuoy:Q,BookOpen:A};function O(){const[i,q]=r.useState(""),[c,f]=r.useState([]),[j,y]=r.useState(!1),[w,u]=r.useState(!1),[h,p]=r.useState({name:"",email:"",inquiry:""}),[o,d]=r.useState(!1),[C,m]=r.useState(!1),[g,l]=r.useState(null);r.useEffect(()=>{if(i.trim().length>=2){y(!0);const s=H(i);f(s)}else y(!1),f([])},[i]);const k=s=>{q(s.target.value)},E=s=>{s.key==="Enter"&&i.trim()},F=async s=>{s.preventDefault(),d(!0),l(null);const{name:t,email:a,inquiry:n}=h;if(!t||!a||!n){l("Please fill in all fields"),d(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){l("Please enter a valid email address"),d(!1);return}try{await U({name:t,email:a,inquiry:n}),m(!0),p({name:"",email:"",inquiry:""}),setTimeout(()=>{u(!1),m(!1)},2e3)}catch(N){console.error("Error sending inquiry:",N),l(N.message||"Failed to send inquiry. Please try again.")}finally{d(!1)}},x=(s,t)=>{p(a=>({...a,[s]:t}))},I=s=>{s.preventDefault(),u(!0),m(!1),l(null)},b=()=>{u(!1),p({name:"",email:"",inquiry:""}),l(null),m(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(M,{}),e.jsx("section",{className:"hc-search-banner",children:e.jsxs("div",{className:"hc-container",children:[e.jsx("h1",{children:"How can we help you?"}),e.jsx("p",{children:"Search for answers or browse our help articles below"}),e.jsx("div",{className:"hc-search-container",children:e.jsxs("div",{className:"hc-search-input-wrapper",children:[e.jsx(S,{className:"hc-search-icon"}),e.jsx("input",{type:"text",className:"hc-search-input",placeholder:"Search for help...","aria-label":"Search help articles",value:i,onChange:k,onKeyPress:E})]})})]})}),e.jsxs("main",{className:"hc-container",children:[j?e.jsxs("div",{className:"hc-search-results",children:[e.jsxs("div",{className:"hc-search-results-header",children:[e.jsx("h2",{children:"Search Results"}),e.jsxs("p",{children:[c.length," result",c.length!==1?"s":"",' for "',i,'"']})]}),c.length>0?e.jsx("ul",{className:"hc-article-list",children:c.map(s=>e.jsx("li",{className:"hc-article-list-item",children:e.jsxs("a",{href:`/help-center-articles/${s.categoryId}/${s.slug}.html`,children:[e.jsx($,{}),e.jsxs("div",{children:[e.jsx("strong",{children:s.title}),e.jsxs("span",{style:{display:"block",fontSize:"12px",color:"#999",marginTop:"4px"},children:[s.categoryTitle," > ",s.sectionTitle]})]})]})},s.id))}):e.jsxs("div",{className:"hc-no-results",children:[e.jsx(S,{}),e.jsx("h3",{children:"No results found"}),e.jsx("p",{children:"Try different keywords or browse categories below"})]})]}):e.jsx("div",{className:"hc-categories-grid",children:B.map(s=>{const t=z[s.icon]||v,a=n=>n.slug==="guests"?"https://split.lease/faq?section=travelers":n.slug==="hosts"?"/faq?section=hosts":`/help-center/${n.slug}`;return e.jsxs("a",{href:a(s),className:"hc-category-card",children:[e.jsx("div",{className:"hc-category-card-icon",children:e.jsx(t,{})}),e.jsx("h3",{children:s.title}),e.jsx("p",{children:s.description}),e.jsxs("div",{className:"hc-category-card-meta",children:[e.jsx(W,{}),e.jsxs("span",{children:[s.articleCount," articles"]})]})]},s.id)})}),!j&&e.jsxs("a",{href:"#",onClick:I,className:"hc-info-box info",style:{margin:"24px 0 32px",cursor:"pointer",textDecoration:"none",display:"flex"},children:[e.jsx("div",{className:"hc-info-box-icon",children:e.jsx(v,{})}),e.jsxs("div",{className:"hc-info-box-content",children:[e.jsx("p",{children:e.jsx("strong",{children:"Still can't find what you're looking for?"})}),e.jsx("p",{children:"Contact our support team and we'll be happy to help you out. We typically respond within 24 hours."})]})]})]}),w&&e.jsx("div",{className:"modal-overlay",onClick:b,children:e.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:b,"aria-label":"Close modal",children:"×"}),e.jsx("h2",{className:"modal-title",children:"Ask Us a Question"}),e.jsx("p",{className:"modal-subtitle",children:"We'll get back to you as soon as possible"}),C?e.jsxs("div",{className:"success-message",children:[e.jsx("div",{className:"success-icon",children:"✓"}),e.jsx("p",{children:"Thank you! Your inquiry has been sent successfully."})]}):e.jsxs("form",{onSubmit:F,className:"inquiry-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"inquiry-name",children:"Name *"}),e.jsx("input",{type:"text",id:"inquiry-name",value:h.name,onChange:s=>x("name",s.target.value),placeholder:"Enter your name",required:!0,disabled:o})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"inquiry-email",children:"Email *"}),e.jsx("input",{type:"email",id:"inquiry-email",value:h.email,onChange:s=>x("email",s.target.value),placeholder:"Enter your email",required:!0,disabled:o})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"inquiry-text",children:"Your Question *"}),e.jsx("textarea",{id:"inquiry-text",value:h.inquiry,onChange:s=>x("inquiry",s.target.value),placeholder:"Tell us what you'd like to know...",rows:"5",required:!0,disabled:o})]}),g&&e.jsx("div",{className:"error-message-form",children:g}),e.jsx("button",{type:"submit",className:"submit-btn",disabled:o,children:o?"Sending...":"Send"})]})]})}),e.jsx(P,{})]})}R(document.getElementById("root")).render(e.jsx(T.StrictMode,{children:e.jsx(Y,{children:e.jsx(O,{})})}));
