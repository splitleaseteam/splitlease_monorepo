import{j as e,r as s,c as ve,R as gt}from"./client-BJVKzfAi.js";import"./config-QPKPRtag.js";import{H as ft}from"./Header-BJKWma2V.js";import{F as xt}from"./Footer-Bzf1rLKh.js";import{G as Te}from"./GoogleMap-ICEUXkNW.js";import{u as vt,A as He,s as yt,c as jt}from"./useAuthenticatedUser-1bvYaCkm.js";import{C as wt,a as bt,P as kt,c as St}from"./ProposalSuccessModal-buYBZjpQ.js";import{I as Nt}from"./InformationalText-C-nhvRBy.js";import{L as Oe,S as Ct,f as Mt,a as Pt}from"./proposalDataFetcher-CipdyWU2.js";import{s as W}from"./supabase-BoCLEw6R.js";import{g as It,c as Ft,v as _t,a as Ue}from"./tokenValidation-WTJVhUoY.js";import{c as xe}from"./session-D_2N6rS7.js";import{f as Bt}from"./listingDataFetcher-DGGxiGnp.js";import{g as Rt,a as Et,b as At,c as Dt,i as Wt}from"./dataLookups-zG18yzis.js";import{a as Lt,f as zt,e as Tt,b as Ht}from"./supabaseUtils-B40jh603.js";import{a as $e}from"./nightCalculations-BvAtd4RD.js";import{i as Ot}from"./isHost-bTARCkET.js";import{E as Ut}from"./ErrorBoundary-9_HbXv1y.js";/* empty css             */import"./auth-QZ4BJadW.js";import"./constants-CPVJY5eo.js";import"./Toast-BQk6Nzgd.js";import"./proposalStatuses-1Bj0NYR4.js";import"./x-CrJVeoCh.js";import"./createLucideIcon-CgZZH2OU.js";import"./chevron-right-DMpFmStq.js";import"./map-pin-Be7EkBk1.js";import"./square-BGeZC4Cm.js";import"./ListingScheduleSelector-B9O1H-bT.js";import"./SearchScheduleSelector-KBnRs4ik.js";import"./dayUtils-C3_GW2W5.js";import"./calendar-CDI4qHEX.js";import"./clock-BT0kKcUb.js";import"./send-C4mziT0-.js";const $t=({message:o,ctaText:i,ctaLink:f})=>{const m=()=>{window.location.href=f||"/search"};return e.jsxs("div",{className:"favorites-empty",children:[e.jsxs("div",{className:"favorites-empty__illustration",children:[e.jsx("div",{className:"favorites-empty__bg",children:e.jsx("svg",{className:"favorites-empty__heart",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),e.jsx("div",{className:"favorites-empty__float favorites-empty__float--1",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("path",{d:"M21 15l-5-5L5 21"})]})}),e.jsx("div",{className:"favorites-empty__float favorites-empty__float--2",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})})]}),e.jsx("h2",{className:"favorites-empty__title",children:"No favorites yet"}),e.jsx("p",{className:"favorites-empty__text",children:o||"Save listings you love by tapping the heart icon. Build your collection and send proposals when you're ready."}),e.jsxs("div",{className:"favorites-empty__actions",children:[e.jsxs("button",{className:"favorites-empty__cta",onClick:m,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),i||"Explore Rentals"]}),e.jsxs("a",{href:"/",className:"favorites-empty__link",children:["Learn how Split Lease works",e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"favorites-empty__tips",children:[e.jsx("h3",{className:"favorites-empty__tips-title",children:"Quick Tips"}),e.jsxs("div",{className:"favorites-empty__tips-list",children:[e.jsxs("div",{className:"favorites-empty__tip",children:[e.jsx("div",{className:"favorites-empty__tip-icon",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),e.jsxs("div",{className:"favorites-empty__tip-content",children:[e.jsx("div",{className:"favorites-empty__tip-title",children:"Tap the heart to save"}),e.jsx("div",{className:"favorites-empty__tip-desc",children:"Found a place you like? Hit the heart icon on any listing card."})]})]}),e.jsxs("div",{className:"favorites-empty__tip",children:[e.jsx("div",{className:"favorites-empty__tip-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),e.jsxs("div",{className:"favorites-empty__tip-content",children:[e.jsx("div",{className:"favorites-empty__tip-title",children:"Set your schedule first"}),e.jsx("div",{className:"favorites-empty__tip-desc",children:"Select your preferred days to see matching availability and prices."})]})]})]})]})]})},Vt=({listingId:o,userId:i,onConfirmRemove:f})=>{const[m,p]=s.useState(!1),M=s.useRef(null),R=s.useRef(null);s.useEffect(()=>{const g=z=>{m&&M.current&&!M.current.contains(z.target)&&!R.current.contains(z.target)&&p(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[m]);const E=g=>{g.preventDefault(),g.stopPropagation(),p(!0)},A=g=>{g.preventDefault(),g.stopPropagation(),p(!1),f&&f()},S=g=>{g.preventDefault(),g.stopPropagation(),p(!1)},y={container:{position:"absolute",top:"16px",right:"16px",zIndex:10},button:{all:"unset",width:"40px",height:"40px",borderRadius:"50%",background:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"0",boxSizing:"border-box",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"transform 0.2s"},popup:{position:"absolute",top:"48px",right:"0",background:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",padding:"16px",minWidth:"200px",zIndex:100},popupText:{fontSize:"14px",fontWeight:600,color:"#1E293B",marginBottom:"12px",textAlign:"center"},popupButtons:{display:"flex",gap:"8px"},cancelBtn:{flex:1,padding:"8px 12px",borderRadius:"8px",border:"1px solid #E2E8F0",background:"white",color:"#64748B",fontSize:"13px",fontWeight:600,cursor:"pointer"},removeBtn:{flex:1,padding:"8px 12px",borderRadius:"8px",border:"none",background:"#EF4444",color:"white",fontSize:"13px",fontWeight:600,cursor:"pointer"}};return e.jsxs("div",{style:y.container,children:[e.jsx("button",{ref:R,style:y.button,onClick:E,"aria-label":"Remove from favorites",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#EF4444",stroke:"#EF4444",strokeWidth:"2",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),m&&e.jsxs("div",{ref:M,style:y.popup,children:[e.jsx("div",{style:y.popupText,children:"Remove from favorites?"}),e.jsxs("div",{style:y.popupButtons,children:[e.jsx("button",{style:y.cancelBtn,onClick:S,children:"Cancel"}),e.jsx("button",{style:y.removeBtn,onClick:A,children:"Remove"})]})]})]})},qt=({listing:o,onToggleFavorite:i,onOpenCreateProposalModal:f,onPhotoClick:m,proposalForListing:p,viewMode:M="grid",userId:R})=>{var K,ee,G,U;const[E,A]=s.useState(0),[S,y]=s.useState(!1),[g,z]=s.useState(!1),T=M==="grid",F=o.images||[],V=F.length>1,P=!!p,q=o.isNew,J=()=>{m&&F.length>0&&m(o,E)},ae=H=>{H.stopPropagation(),f&&f(o)},ie=H=>{H.stopPropagation(),p!=null&&p._id&&(window.location.href=`/proposal?id=${p._id}`)},X=()=>{var O;return(((O=o.host)==null?void 0:O.name)||"H").charAt(0).toUpperCase()},ne=F[E]||"",l={card:{all:"unset",display:T?"block":"flex",background:"white",borderRadius:"24px",overflow:"hidden",boxShadow:g?"0 20px 40px rgba(0,0,0,0.08)":"0 4px 12px rgba(0,0,0,0.03)",transition:"all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1)",cursor:"pointer",flexDirection:T?"column":"row",transform:g?"translateY(-8px)":"none",fontFamily:"'Inter', sans-serif",border:"1px solid #D1D5DB",padding:0,margin:0,boxSizing:"border-box"},imageSection:{position:"relative",height:T?"240px":"auto",width:T?"100%":"280px",minWidth:T?"auto":"280px",overflow:"hidden"},image:{width:"100%",height:"100%",objectFit:"cover"},statusBadge:{position:"absolute",top:"16px",left:"16px",padding:"6px 12px",borderRadius:"8px",fontSize:"11px",fontWeight:700,textTransform:"uppercase",zIndex:1},badgeProposal:{background:"#8B5CF6",color:"white"},badgeNew:{background:"#10B981",color:"white"},photoDots:{position:"absolute",bottom:"16px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"6px"},photoDot:{width:"6px",height:"6px",borderRadius:"50%",background:"rgba(255,255,255,0.5)"},photoDotActive:{background:"white",width:"16px",borderRadius:"4px"},cardContent:{padding:"24px",flex:1,display:"flex",flexDirection:"column",gap:"12px"},cardLocation:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#6366F1",fontWeight:600},cardTitle:{fontSize:"18px",fontWeight:700,color:"#0F172A",margin:0,lineHeight:1.4},hostBadge:{display:"flex",alignItems:"center",gap:"10px",margin:"4px 0"},hostAvatar:{width:"32px",height:"32px",borderRadius:"50%",background:"#6366F1",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:700},hostName:{fontSize:"14px",color:"#64748B"},hostNameStrong:{color:"#1E293B",fontWeight:600},verifiedBadge:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"#10B981",fontWeight:600,marginLeft:"4px"},cardDetails:{display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",color:"#94A3B8",fontWeight:500},detailDivider:{width:"4px",height:"4px",borderRadius:"50%",background:"#CBD5E1"},pricingFooter:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"20px",marginTop:"auto",borderTop:"1px solid #D1D5DB"},priceLabel:{fontSize:"12px",color:"#94A3B8",fontWeight:500},priceValue:{fontSize:"22px",fontWeight:800,color:"#0F172A"},pricePeriod:{fontSize:"14px",fontWeight:400,color:"#64748B"},actionBtn:{padding:"12px 24px",borderRadius:"12px",fontSize:"14px",fontWeight:700,cursor:"pointer",transition:"all 0.2s ease",border:"none"},actionBtnPrimary:{background:"#6366F1",color:"white",boxShadow:"0 4px 12px rgba(99, 102, 241, 0.2)"},actionBtnSecondary:{background:"#EEF2FF",color:"#6366F1"}};return e.jsxs("div",{className:"favorites-card-wrapper",style:l.card,onClick:J,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:[e.jsxs("div",{style:l.imageSection,children:[e.jsx("img",{src:S?"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800":ne,alt:o.title,style:l.image,onError:()=>y(!0)}),P&&e.jsx("div",{style:{...l.statusBadge,...l.badgeProposal},children:"Proposal Sent"}),!P&&q&&e.jsx("div",{style:{...l.statusBadge,...l.badgeNew},children:"New"}),e.jsx(Vt,{listingId:o.id,userId:R,onConfirmRemove:()=>{i&&i(o.id,o.title,!1)}}),V&&e.jsx("div",{style:l.photoDots,children:F.slice(0,4).map((H,O)=>e.jsx("span",{style:{...l.photoDot,...O===E?l.photoDotActive:{}}},O))})]}),e.jsxs("div",{style:l.cardContent,children:[e.jsxs("div",{style:l.cardLocation,children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),o.location||"New York, NY"]}),e.jsx("h3",{style:l.cardTitle,children:o.title}),e.jsxs("div",{style:l.hostBadge,children:[e.jsx("div",{style:l.hostAvatar,children:(K=o.host)!=null&&K.image?e.jsx("img",{src:o.host.image,style:{width:"100%",height:"100%",borderRadius:"50%"}}):X()}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsxs("span",{style:l.hostName,children:["Hosted by ",e.jsx("strong",{style:l.hostNameStrong,children:((ee=o.host)==null?void 0:ee.name)||"Host"})]}),((G=o.host)==null?void 0:G.verified)&&e.jsxs("div",{style:l.verifiedBadge,children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})}),"Verified"]})]})]}),e.jsxs("div",{style:l.cardDetails,children:[e.jsx("span",{children:o.bedrooms===0?"Studio":`${o.bedrooms} bed`}),e.jsx("span",{style:l.detailDivider}),e.jsxs("span",{children:[o.bathrooms," bath"]}),e.jsx("span",{style:l.detailDivider}),e.jsxs("span",{children:[o.maxGuests," guests"]})]}),e.jsxs("div",{style:l.pricingFooter,children:[e.jsxs("div",{children:[e.jsx("div",{style:l.priceLabel,children:"Starting at"}),e.jsxs("div",{style:l.priceValue,children:["$",((U=o.price)==null?void 0:U.starting)||o["Starting nightly price"]||0," ",e.jsx("span",{style:l.pricePeriod,children:"/ night"})]})]}),e.jsx("button",{style:{...l.actionBtn,...P?l.actionBtnSecondary:l.actionBtnPrimary},onClick:P?ie:ae,children:P?"View Proposal":"Create Proposal"})]})]})]})};async function Gt(o){console.log("ðŸ“¡ [favoritesApi] getFavoritedListingIds called with:",{userId:o});try{const{data:i,error:f}=await W.from("user").select('"Favorited Listings"').eq("_id",o).single();if(f)throw console.error("âŒ Error fetching favorited listing IDs:",f),f;const m=(i==null?void 0:i["Favorited Listings"])||[];return console.log("ðŸ“¡ [favoritesApi] Found",m.length,"favorited listings"),m}catch(i){throw console.error("âŒ Failed to fetch favorited listing IDs:",i),i}}async function Qt(){const o=It();if(!o)return console.log("âŒ No token found for logout"),xe(),{success:!0,message:"No active session to logout"};console.log("ðŸ”“ Attempting logout via Edge Function...");try{await W.auth.signOut(),console.log("âœ… Signed out from Supabase Auth client")}catch(i){console.warn("âš ï¸ Error signing out from Supabase Auth client:",i)}try{const{data:i,error:f}=await W.functions.invoke("auth-user",{body:{action:"logout",payload:{token:o}}});return xe(),f||!i.success?(console.log("âš ï¸ Logout API returned error, but local data cleared"),{success:!0,message:"Logged out locally"}):(console.log("âœ… Logout successful"),{success:!0,message:i.data.message||"Logout successful"})}catch(i){return console.error("âŒ Logout error:",i),xe(),{success:!0,message:"Logged out locally (network error)"}}}async function Yt(){try{const{data:o,error:i}=await W.from("informationaltexts").select('_id, "Information Tag-Title", "Desktop copy", "Mobile copy", "Desktop+ copy", "show more available?"');if(i)throw i;const f={};return o.forEach(m=>{f[m["Information Tag-Title"]]={desktop:m["Desktop copy"],mobile:m["Mobile copy"],desktopPlus:m["Desktop+ copy"],showMore:m["show more available?"]}}),f}catch(o){return console.error("Failed to fetch informational texts:",o),{}}}function Zt({listings:o,onOpenContactModal:i,isLoggedIn:f,onToggleFavorite:m,userId:p,proposalsByListingId:M,onCreateProposal:R,onPhotoClick:E,viewMode:A}){const S=A==="grid";return e.jsx("div",{style:{display:S?"grid":"flex",flexDirection:S?"initial":"column",gridTemplateColumns:S?"repeat(auto-fill, minmax(320px, 1fr))":"none",gap:"20px",padding:"0"},children:o.map(y=>{const g=(M==null?void 0:M.get(y.id))||null;return e.jsx(qt,{listing:y,onOpenContactModal:i,isLoggedIn:f,onToggleFavorite:m,userId:p,proposalForListing:g,onOpenCreateProposalModal:R,onPhotoClick:E,viewMode:A},y.id)})})}function Jt(){return e.jsx("div",{className:"loading-skeleton active",children:[1,2].map(o=>e.jsxs("div",{className:"skeleton-card",children:[e.jsx("div",{className:"skeleton-image"}),e.jsxs("div",{className:"skeleton-content",children:[e.jsx("div",{className:"skeleton-line",style:{width:"60%"}}),e.jsx("div",{className:"skeleton-line",style:{width:"80%"}}),e.jsx("div",{className:"skeleton-line",style:{width:"40%"}})]})]},o))})}function Xt({message:o,onRetry:i}){return e.jsxs("div",{className:"error-message",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 8v4M12 16h.01"})]}),e.jsx("h3",{children:"Unable to Load Favorites"}),e.jsx("p",{children:o||"Failed to load your favorite listings. Please try again."}),i&&e.jsx("button",{className:"retry-btn",onClick:i,children:"Retry"})]})}const Kt=()=>{var De,We,Le;const{user:o,userId:i,loading:f,isAuthenticated:m}=vt(),[p,M]=s.useState([]),[R,E]=s.useState("grid"),[A,S]=s.useState(!0),[y,g]=s.useState(null),[z,T]=s.useState(null),[F,V]=s.useState(!1),[P,q]=s.useState(null),[J,ae]=s.useState(new Set),[ie,X]=s.useState(new Map),[ne,l]=s.useState(!1),[K,ee]=s.useState(!1),[G,U]=s.useState(null),[H,O]=s.useState(null),[Ve,te]=s.useState(!1),[b,le]=s.useState(null),[qe,Ge]=s.useState(null),[Qe,Ye]=s.useState(null),[ce,Ze]=s.useState([]),[Je,Xe]=s.useState(13),[Ke,et]=s.useState(null),[ye,de]=s.useState(null),[D,je]=s.useState(null),[L,tt]=s.useState(null),[st,we]=s.useState(!1),[ot,be]=s.useState(null),[rt,ke]=s.useState(!1),[Se,se]=s.useState(!1),[oe,Q]=s.useState(!1),[he,ue]=s.useState(0),[Y,at]=s.useState([]),[it,nt]=s.useState("");s.useEffect(()=>{const t=n=>{n.key==="Escape"&&oe&&Q(!1)};return oe&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[oe]);const[$,Ne]=s.useState({show:!1,message:"",type:"success"}),[pe,lt]=s.useState({}),[ct,Ce]=s.useState(!1),[Me,Pe]=s.useState(!1),Ie=s.useRef(null),Fe=s.useCallback((t,n,a)=>{const h=Rt(t["Location - Hood"]),c=Et(t["Location - Borough"]),j=At(t["Features - Type of Space"]),k=[];h&&k.push(h),c&&k.push(c);const d=k.join(", ")||"New York, NY";let x=t["Location - Address"],u=t["Location - slightly different address"];if(typeof u=="string")try{u=JSON.parse(u)}catch{u=null}if(typeof x=="string")try{x=JSON.parse(x)}catch{x=null}let v=null;return u!=null&&u.lat&&(u!=null&&u.lng)?v={lat:u.lat,lng:u.lng}:x!=null&&x.lat&&(x!=null&&x.lng)&&(v={lat:x.lat,lng:x.lng}),{id:t._id,title:t.Name||"Unnamed Listing",location:d,neighborhood:h||"",borough:c||"",coordinates:v,price:{starting:t["Standarized Minimum Nightly Price (Filter)"]||0,full:t["ðŸ’°Nightly Host Rate for 7 nights"]||0},"Starting nightly price":t["Standarized Minimum Nightly Price (Filter)"]||0,"Price 2 nights selected":t["ðŸ’°Nightly Host Rate for 2 nights"]||null,"Price 3 nights selected":t["ðŸ’°Nightly Host Rate for 3 nights"]||null,"Price 4 nights selected":t["ðŸ’°Nightly Host Rate for 4 nights"]||null,"Price 5 nights selected":t["ðŸ’°Nightly Host Rate for 5 nights"]||null,"Price 6 nights selected":null,"Price 7 nights selected":t["ðŸ’°Nightly Host Rate for 7 nights"]||null,type:j,squareFeet:t["Features - SQFT Area"]||null,maxGuests:t["Features - Qty Guests"]||1,bedrooms:t["Features - Qty Bedrooms"]||0,bathrooms:t["Features - Qty Bathrooms"]||0,amenities:Lt(t),host:a||{name:null,image:null,verified:!1},images:n||[],description:`${(t["Features - Qty Bedrooms"]||0)===0?"Studio":`${t["Features - Qty Bedrooms"]} bedroom`} â€¢ ${t["Features - Qty Bathrooms"]||0} bathroom`,weeks_offered:t["Weeks offered"]||"Every week",isNew:!1,"ðŸ’°Nightly Host Rate for 2 nights":t["ðŸ’°Nightly Host Rate for 2 nights"],"ðŸ’°Nightly Host Rate for 3 nights":t["ðŸ’°Nightly Host Rate for 3 nights"],"ðŸ’°Nightly Host Rate for 4 nights":t["ðŸ’°Nightly Host Rate for 4 nights"],"ðŸ’°Nightly Host Rate for 5 nights":t["ðŸ’°Nightly Host Rate for 5 nights"],"ðŸ’°Nightly Host Rate for 7 nights":t["ðŸ’°Nightly Host Rate for 7 nights"],"ðŸ’°Weekly Host Rate":t["ðŸ’°Weekly Host Rate"],"ðŸ’°Monthly Host Rate":t["ðŸ’°Monthly Host Rate"],"ðŸ’°Price Override":t["ðŸ’°Price Override"],"ðŸ’°Cleaning Cost / Maintenance Fee":t["ðŸ’°Cleaning Cost / Maintenance Fee"],"ðŸ’°Damage Deposit":t["ðŸ’°Damage Deposit"],"ðŸ’°Unit Markup":t["ðŸ’°Unit Markup"],"rental type":t["rental type"],"Weeks offered":t["Weeks offered"]," First Available":t[" First Available"],"Last Available":t["Last Available"],"# of nights available":t["# of nights available"],Active:t.Active,Approved:t.Approved,"Dates - Blocked":t["Dates - Blocked"],Complete:t.Complete,confirmedAvailability:t.confirmedAvailability,"NEW Date Check-in Time":t["NEW Date Check-in Time"],"NEW Date Check-out Time":t["NEW Date Check-out Time"],"Nights Available (numbers)":t["Nights Available (numbers)"],"Minimum Nights":t["Minimum Nights"],"Maximum Nights":t["Maximum Nights"],"Days Available (List of Days)":t["Days Available (List of Days)"]}},[]);s.useEffect(()=>{(async()=>{Dt()||await Wt()})()},[]),s.useEffect(()=>{(async()=>{const n=await Yt();lt(n)})()},[]),s.useEffect(()=>{(async()=>{try{const n=await Bt();Ge(n)}catch(n){console.warn("Failed to load ZAT config:",n)}})()},[]),s.useEffect(()=>{(async()=>{var n;try{if(S(!0),g(null),f)return;if(!m||!i){g("Please log in to view your favorite listings."),S(!1);return}V(!0),T(i),q(o);try{const[r,w]=await Promise.all([W.from("user").select('"About Me / Bio", "need for Space", "special needs"').eq("_id",i).single(),W.rpc("get_user_junction_counts",{p_user_id:i})]);if(!r.error&&r.data){const N=((n=w.data)==null?void 0:n[0])||{},I=Number(N.proposals_count)||0;je({aboutMe:r.data["About Me / Bio"]||"",needForSpace:r.data["need for Space"]||"",specialNeeds:r.data["special needs"]||"",proposalCount:I});const Z=await Mt(i);Z&&(tt(Z),console.log("[FavoriteListingsPage] Loaded last proposal defaults:",Z))}}catch(r){console.warn("Failed to fetch user proposal data:",r)}let a=[];try{a=await Gt(i)}catch(r){console.error("Error fetching favorites:",r),g("Failed to load your favorites. Please try again."),S(!1);return}if(a=Array.isArray(a)?a:[],a=a.filter(r=>typeof r=="string"&&/^\d+x\d+$/.test(r)),ae(new Set(a)),a.length===0){M([]),S(!1);return}const{data:h,error:c}=await W.from("listing").select("*").in("_id",a).eq("Deleted",!1);if(c){console.error("Error fetching listings:",c),g("Failed to load listings. Please try again."),S(!1);return}const j=new Set;h.forEach(r=>{const w=r["Features - Photos"];let N=[];if(Array.isArray(w))N=w;else if(typeof w=="string")try{N=JSON.parse(w)}catch{}Array.isArray(N)&&N.forEach(I=>{typeof I=="string"&&j.add(I)})});const k=j.size>0?await zt(Array.from(j)):{},d={};h.forEach(r=>{d[r._id]=Tt(r["Features - Photos"],k,r._id)});const x=new Set;h.forEach(r=>{r["Host User"]&&x.add(r["Host User"])});const u=await Ht(Array.from(x)),v=h.map(r=>{const w=r["Host User"];return Fe(r,d[r._id],u[w]||null)}).filter(r=>r.coordinates&&r.coordinates.lat&&r.coordinates.lng).filter(r=>r.images&&r.images.length>0);M(v),console.log(`Loaded ${v.length} favorite listings`);try{const r=await Pt(i);console.log(`ðŸ“‹ Loaded ${r.length} proposals for user`);const w=new Map;r.forEach(N=>{const I=N.Listing;I&&(w.has(I)||w.set(I,N))}),X(w),console.log(`ðŸ“‹ Mapped ${w.size} listings with proposals`)}catch(r){console.warn("Failed to fetch proposals (non-critical):",r)}}catch(a){console.error("âŒ Error initializing page:",a),g(`Failed to load your favorite listings: ${(a==null?void 0:a.message)||"Unknown error"}. Please try again.`)}finally{S(!1)}})()},[f,m,i,o,Fe]);const re=(t,n="success")=>{Ne({show:!0,message:t,type:n}),setTimeout(()=>{Ne({show:!1,message:"",type:"success"})},3e3)},me=(t,n,a)=>{const h=n||"Listing";a?re(`${h} added to favorites`,"success"):(M(c=>c.filter(j=>j.id!==t)),re(`${h} removed from favorites`,"info"))},ge=t=>{U(t),l(!0)},_e=()=>{l(!1),U(null)},dt=()=>{ee(!1),U(null),O(null)},ht=async t=>{const a=new URLSearchParams(window.location.search).get("days-selected");let h=[];if(a)try{h=a.split(",").map(v=>parseInt(v.trim(),10)).filter(v=>v>=1&&v<=7).map(v=>v-1).map(v=>$e(v,!0))}catch(u){console.warn("Failed to parse days from URL:",u)}h.length===0&&(h=[1,2,3,4,5].map(u=>$e(u,!0)));const c=new Date,j=new Date(c);j.setDate(c.getDate()+14);const k=j.toISOString().split("T")[0];let d=k;if(L!=null&&L.moveInDate)d=yt({previousMoveInDate:L.moveInDate,minDate:k})||k,console.log("[FavoriteListingsPage] Pre-filling move-in from last proposal:",L.moveInDate,"->",d);else if(h.length>0)try{const u=h.map(v=>v.dayOfWeek);d=jt({selectedDayIndices:u,minDate:k})}catch(u){console.error("Error calculating smart move-in date:",u),d=k}const x=(L==null?void 0:L.reservationSpanWeeks)||13;le(t),Ze(h),Ye(d),Xe(x),et(null),te(!0)},ut=(t,n=0)=>{!t.images||t.images.length===0||(at(t.images),nt(t.title||"Listing"),ue(n),Q(!0))},Be=async t=>{var n,a,h,c;ke(!0);try{const j=Ue();if(!j)throw new Error("User session not found");const k=((n=t.daysSelectedObjects)==null?void 0:n.map(_=>_.dayOfWeek))||[],d=[...k].sort((_,B)=>_-B),x=d.includes(6),u=d.includes(0),v=x&&u&&k.length<7;let r,w,N;if(v){let _=-1;for(let B=0;B<d.length-1;B++)if(d[B+1]-d[B]>1){_=B+1;break}_!==-1?(r=d[_],w=d[_-1],N=[...d.slice(_),...d.slice(0,_)].slice(0,-1)):(r=d[0],w=d[d.length-1],N=d.slice(0,-1))}else r=d[0],w=d[d.length-1],N=d.slice(0,-1);const I=t.reservationSpan||13,Z=I===13?"13 weeks (3 months)":I===20?"20 weeks (approx. 5 months)":`${I} weeks`,ze={guestId:j,listingId:b._id||b.id,moveInStartRange:t.moveInDate,moveInEndRange:t.moveInDate,daysSelected:k,nightsSelected:N,reservationSpan:Z,reservationSpanWeeks:I,checkIn:r,checkOut:w,proposalPrice:t.pricePerNight,fourWeekRent:t.pricePerFourWeeks,hostCompensation:t.pricePerFourWeeks,needForSpace:t.needForSpace||"",aboutMe:t.aboutYourself||"",estimatedBookingTotal:t.totalPrice,specialNeeds:t.hasUniqueRequirements?t.uniqueRequirements:"",moveInRangeText:t.moveInRange||"",flexibleMoveIn:!!t.moveInRange,fourWeekCompensation:t.pricePerFourWeeks};console.log("ðŸ“‹ Submitting proposal:",ze);const{data:C,error:fe}=await W.functions.invoke("proposal",{body:{action:"create",payload:ze}});if(fe)throw console.error("âŒ Edge Function error:",fe),new Error(fe.message||"Failed to submit proposal");if(!(C!=null&&C.success))throw console.error("âŒ Proposal submission failed:",C==null?void 0:C.error),new Error((C==null?void 0:C.error)||"Failed to submit proposal");console.log("âœ… Proposal submitted successfully:",C),console.log("   Proposal ID:",(a=C.data)==null?void 0:a.proposalId),St(t.listingId),te(!1),de(null),be((h=C.data)==null?void 0:h.proposalId),we(!0),(c=C.data)!=null&&c.proposalId&&b&&X(_=>{const B=new Map(_);return B.set(b.id,{_id:C.data.proposalId}),B}),re("Proposal submitted successfully!","success")}catch(j){console.error("âŒ Error submitting proposal:",j),re(j.message||"Failed to submit proposal. Please try again.","error")}finally{ke(!1)}},pt=async t=>{if(console.log("Proposal submission initiated:",t),!await Ft()){console.log("User not logged in, showing auth modal"),de(t),te(!1),se(!0);return}await Be(t)},Re=t=>{window.location.href=t},Ee=async()=>{try{await Qt(),V(!1),q(null),window.location.href="/search"}catch(t){console.error("Logout error:",t)}},mt=async t=>{var n;console.log("Auth completed:",t),se(!1),V(!0);try{const a=await _t({clearOnFailure:!1}),h=Ue();if(a){q({id:h,name:a.fullName||a.firstName||"",email:a.email||"",userType:a.userType||"GUEST",avatarUrl:a.profilePhoto||null});const[c,j]=await Promise.all([W.from("user").select('"About Me / Bio", "need for Space", "special needs"').eq("_id",h).single(),W.rpc("get_user_junction_counts",{p_user_id:h})]);if(c.data){const k=((n=j.data)==null?void 0:n[0])||{},d=Number(k.proposals_count)||0;je({aboutMe:c.data["About Me / Bio"]||"",needForSpace:c.data["need for Space"]||"",specialNeeds:c.data["special needs"]||"",proposalCount:d})}}}catch(a){console.warn("Failed to update user data after auth:",a)}ye&&(console.log("Submitting pending proposal after auth..."),await Be(ye))};s.useEffect(()=>{const t=document.getElementById("schedule-selector-mount-point"),n=document.getElementById("schedule-selector-mount-point-mobile"),a=[],h={onSelectionChange:c=>{console.log("Schedule selector changed:",c)},onError:c=>console.error("AuthAwareSearchScheduleSelector error:",c)};if(t){const c=ve(t);c.render(e.jsx(He,{...h})),a.push(c)}if(n){const c=ve(n);c.render(e.jsx(He,{...h})),a.push(c)}return()=>{a.forEach(c=>c.unmount())}},[]);const Ae=s.useMemo(()=>!F||!P?!0:!Ot({userType:P.userType}),[F,P]);return e.jsxs(e.Fragment,{children:[e.jsx(ft,{}),e.jsx("div",{className:"favorites-subheader",children:e.jsxs("div",{className:"favorites-subheader__inner",children:[e.jsxs("div",{className:"favorites-subheader__left",children:[e.jsx("h1",{className:"favorites-subheader__title",children:"My Favorites"}),e.jsxs("span",{className:"favorites-subheader__count",children:[p.length," saved"]})]}),e.jsx("div",{className:"favorites-subheader__right",children:e.jsxs("div",{className:"view-toggle",children:[e.jsxs("button",{className:`view-btn ${R==="grid"?"active":""}`,onClick:()=>E("grid"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Grid"]}),e.jsxs("button",{className:`view-btn ${R==="list"?"active":""}`,onClick:()=>E("list"),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),e.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),"List"]})]})})]})}),e.jsxs("div",{className:"favorites-page",children:[$.show&&e.jsxs("div",{className:`toast toast-${$.type} show`,children:[e.jsxs("span",{className:"toast-icon",children:[$.type==="success"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),$.type==="info"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),$.type==="error"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})]}),e.jsx("span",{className:"toast-message",children:$.message})]}),e.jsxs("main",{className:"two-column-layout",children:[e.jsxs("section",{className:"listings-column",children:[e.jsxs("div",{className:"mobile-filter-bar mobile-header-row",children:[e.jsx("a",{href:"/",className:"mobile-logo-link","aria-label":"Go to homepage",children:e.jsx("img",{src:"/assets/images/split-lease-purple-circle.png",alt:"Split Lease Logo",className:"mobile-logo-icon",width:"28",height:"28"})}),e.jsxs("a",{href:"/search",className:"filter-toggle-btn explore-rentals-btn",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8",strokeWidth:"2"}),e.jsx("path",{d:"M21 21l-4.35-4.35",strokeWidth:"2",strokeLinecap:"round"})]}),e.jsx("span",{children:"Explore Rentals"})]}),e.jsx("div",{className:"mobile-header-actions",children:F&&P?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"/favorite-listings",className:"mobile-favorites-link active","aria-label":"My Favorite Listings",children:[e.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"#FF6B35",stroke:"#FF6B35",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),p.length>0&&e.jsx("span",{className:"mobile-favorites-badge",children:p.length})]}),e.jsx(Oe,{user:P,currentPath:"/favorite-listings",onNavigate:Re,onLogout:Ee,size:"small"})]}):e.jsxs("button",{className:"hamburger-menu",onClick:()=>Pe(!Me),"aria-label":"Toggle menu",children:[e.jsx("span",{children:"Menu"}),e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})]})})]}),e.jsx("div",{className:"mobile-map-row",children:e.jsxs("button",{className:"map-toggle-btn",onClick:()=>Ce(!0),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),e.jsx("path",{d:"M9 3v18M15 3v18M3 9h18M3 15h18",strokeWidth:"2"})]}),e.jsx("span",{children:"Map"})]})}),e.jsx("div",{className:"mobile-schedule-selector",children:e.jsx("div",{className:"filter-group schedule-selector-group",id:"schedule-selector-mount-point-mobile"})}),e.jsx("div",{className:"inline-filters",children:e.jsx("div",{className:"filter-group schedule-selector-group",id:"schedule-selector-mount-point"})}),e.jsxs("div",{className:"listings-content",children:[A&&e.jsx(Jt,{}),!A&&y&&e.jsx(Xt,{message:y,onRetry:()=>window.location.reload()}),!A&&!y&&p.length===0&&e.jsx($t,{ctaText:"Explore Rentals",ctaLink:"/search"}),!A&&!y&&p.length>0&&e.jsx(Zt,{listings:p,onOpenContactModal:ge,isLoggedIn:F,onToggleFavorite:me,userId:z,proposalsByListingId:ie,onCreateProposal:ht,onPhotoClick:ut,viewMode:R})]})]}),e.jsxs("section",{className:"map-column",children:[e.jsxs("div",{className:"map-header",children:[e.jsxs("a",{href:"/",className:"map-logo",children:[e.jsx("img",{src:"/assets/images/split-lease-purple-circle.png",alt:"Split Lease Logo",className:"logo-icon",width:"36",height:"36"}),e.jsx("span",{className:"logo-text",children:"Split Lease"})]}),e.jsx("div",{className:"map-header-actions",children:F&&P?e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"/favorite-listings",className:"favorites-link active","aria-label":"My Favorite Listings",children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"#FF6B35",stroke:"#FF6B35",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),p.length>0&&e.jsx("span",{className:"favorites-badge",children:p.length})]}),e.jsx(Oe,{user:P,currentPath:"/favorite-listings",onNavigate:Re,onLogout:Ee})]}):e.jsxs("button",{className:"hamburger-menu",onClick:()=>Pe(!Me),"aria-label":"Toggle menu",children:[e.jsx("span",{children:"Menu"}),e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})]})})]}),e.jsx(Te,{ref:Ie,listings:[],filteredListings:p,selectedListing:null,selectedBorough:null,onMarkerClick:t=>{console.log("Marker clicked:",t.title)},onMessageClick:t=>{ge(t)},isLoggedIn:F,favoritedListingIds:J,onToggleFavorite:me,showMessageButton:Ae})]})]})]}),e.jsx(wt,{isOpen:ne,onClose:_e,listing:G,onLoginRequired:()=>{_e(),se(!0)}}),e.jsx(Nt,{isOpen:K,onClose:dt,listing:G,triggerRef:H,title:"Pricing Information",content:((De=pe["Price Starts"])==null?void 0:De.desktop)||"",expandedContent:(We=pe["Price Starts"])==null?void 0:We.desktopPlus,showMoreAvailable:(Le=pe["Price Starts"])==null?void 0:Le.showMore}),ct&&e.jsxs("div",{className:"mobile-map-modal",children:[e.jsxs("div",{className:"mobile-map-header",children:[e.jsx("button",{className:"mobile-map-close-btn",onClick:()=>Ce(!1),"aria-label":"Close map",children:"âœ•"}),e.jsx("h2",{children:"Map View"})]}),e.jsx("div",{className:"mobile-map-content",children:e.jsx(Te,{ref:Ie,listings:[],filteredListings:p,selectedListing:null,selectedBorough:null,onMarkerClick:t=>{console.log("Marker clicked:",t.title)},onMessageClick:t=>{ge(t)},isLoggedIn:F,favoritedListingIds:J,onToggleFavorite:me,showMessageButton:Ae})})]}),Ve&&b&&e.jsx(bt,{listing:{...b,_id:b.id||b._id,Name:b.title||b.Name,host:b.host||null},moveInDate:Qe,daysSelected:ce,nightsSelected:ce.length>0?ce.length-1:0,reservationSpan:Je,pricingBreakdown:Ke,zatConfig:qe,isFirstProposal:!D||D.proposalCount===0,useFullFlow:!0,existingUserData:D?{needForSpace:D.needForSpace||"",aboutYourself:D.aboutMe||"",hasUniqueRequirements:!!D.specialNeeds,uniqueRequirements:D.specialNeeds||""}:null,onClose:()=>{te(!1),le(null)},onSubmit:pt,isSubmitting:rt}),Se&&e.jsx(Ct,{isOpen:Se,onClose:()=>{se(!1),de(null)},initialView:"signup-step1",onAuthSuccess:mt,defaultUserType:"guest",skipReload:!0}),st&&e.jsx(kt,{proposalId:ot,listingName:(b==null?void 0:b.title)||(b==null?void 0:b.Name),hasSubmittedRentalApp:(D==null?void 0:D.hasSubmittedRentalApp)??!1,onClose:()=>{we(!1),be(null),le(null)}}),oe&&Y.length>0&&e.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},onClick:()=>Q(!1),children:[e.jsx("button",{onClick:()=>Q(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"2rem",width:"48px",height:"48px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1002},children:"Ã—"}),e.jsx("img",{src:Y[he],alt:`${it} - photo ${he+1}`,style:{maxWidth:"95vw",maxHeight:"75vh",objectFit:"contain",marginBottom:"5rem"},onClick:t=>t.stopPropagation()}),e.jsxs("div",{style:{position:"absolute",bottom:"4rem",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"0.5rem",alignItems:"center",zIndex:1001},children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),ue(n=>n>0?n-1:Y.length-1)},style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.875rem"},children:"â† Previous"}),e.jsxs("span",{style:{color:"white",fontSize:"0.75rem",minWidth:"60px",textAlign:"center"},children:[he+1," / ",Y.length]}),e.jsx("button",{onClick:t=>{t.stopPropagation(),ue(n=>n<Y.length-1?n+1:0)},style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.875rem"},children:"Next â†’"})]}),e.jsx("button",{onClick:()=>Q(!1),style:{position:"absolute",bottom:"1rem",left:"50%",transform:"translateX(-50%)",background:"white",border:"none",color:"#1f2937",padding:"0.5rem 2rem",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.875rem",zIndex:1001},children:"Close"})]}),e.jsx("div",{className:"favorites-prefooter-bar"}),e.jsx(xt,{})]})};ve(document.getElementById("root")).render(e.jsx(gt.StrictMode,{children:e.jsx(Ut,{children:e.jsx(Kt,{})})}));
