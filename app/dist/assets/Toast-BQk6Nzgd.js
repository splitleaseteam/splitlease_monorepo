import{r as n,j as t}from"./client-BJVKzfAi.js";const j=n.createContext(null);let h=0;const g={success:{textColor:"#16A34A",progressColor:"#22C55E",icon:"success"},error:{textColor:"#EF4444",progressColor:"#EF4444",icon:"error"},warning:{textColor:"#F59E0B",progressColor:"#F59E0B",icon:"warning"},info:{textColor:"#3B82F6",progressColor:"#3B82F6",icon:"info"},default:{textColor:"#454444",progressColor:"#454444",icon:null}},k=({type:e})=>{var r;const s=((r=g[e])==null?void 0:r.textColor)||g.default.textColor;switch(e){case"success":return t.jsxs("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]});case"error":return t.jsxs("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15",strokeLinecap:"round"}),t.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15",strokeLinecap:"round"})]});case"warning":return t.jsxs("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13",strokeLinecap:"round"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17",strokeLinecap:"round"})]});case"info":return t.jsxs("svg",{className:"toast-icon",viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12",strokeLinecap:"round"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8",strokeLinecap:"round"})]});default:return null}};function w({children:e}){const[s,r]=n.useState([]),c=n.useCallback((o,u,i)=>{let l;return typeof o=="string"?l={id:h++,title:o,content:null,type:u||"info",duration:i??5e3,showProgress:!0}:l={id:h++,title:o.title,content:o.content||null,type:o.type||"info",duration:o.duration??5e3,showProgress:o.showProgress??!0},r(x=>{const a=[...x,l];return a.length>5?a.slice(-5):a}),l.id},[]),d=n.useCallback(o=>{r(u=>u.filter(i=>i.id!==o))},[]);return n.useEffect(()=>(y(c),window.showToast=c,()=>{y(null),delete window.showToast}),[c]),t.jsxs(j.Provider,{value:{showToast:c,removeToast:d,toasts:s},children:[e,t.jsx(T,{toasts:s,onRemove:d})]})}function C(){const e=n.useContext(j),[s,r]=n.useState([]),c=n.useCallback((o,u,i)=>{let l;return typeof o=="string"?l={id:h++,title:o,content:null,type:u||"info",duration:i??5e3,showProgress:!0}:l={id:h++,title:o.title,content:o.content||null,type:o.type||"info",duration:o.duration??5e3,showProgress:o.showProgress??!0},r(x=>{const a=[...x,l];return a.length>5?a.slice(-5):a}),l.id},[]),d=n.useCallback(o=>{r(u=>u.filter(i=>i.id!==o))},[]);return e||{toasts:s,showToast:c,removeToast:d}}function T({toasts:e,onRemove:s}){return t.jsx("div",{className:"toast-container",role:"alert","aria-live":"polite",children:e.map((r,c)=>t.jsx(p,{toast:r,index:c,onRemove:()=>s(r.id)},r.id))})}function p({toast:e,index:s,onRemove:r}){const[c,d]=n.useState(!1),[o,u]=n.useState(!1),i=g[e.type]||g.default;n.useEffect(()=>{const a=setTimeout(()=>d(!0),10);return()=>clearTimeout(a)},[]),n.useEffect(()=>{if(e.duration>0){const a=setTimeout(()=>{l()},e.duration);return()=>clearTimeout(a)}},[e.duration]);const l=()=>{u(!0),setTimeout(()=>{r()},300)},x=["toast",`toast-${e.type||"default"}`,c&&!o?"show":"",o?"fade-out":""].filter(Boolean).join(" ");return t.jsxs("div",{className:x,style:{"--toast-color":i.textColor,"--progress-color":i.progressColor},children:[i.icon&&t.jsx(k,{type:e.type}),t.jsxs("div",{className:"toast-content",children:[t.jsx("h4",{className:"toast-title",children:e.title}),e.content&&t.jsx("p",{className:"toast-message",children:e.content})]}),t.jsx("button",{className:"toast-close",onClick:l,"aria-label":"Close notification",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18",strokeLinecap:"round"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18",strokeLinecap:"round"})]})}),e.showProgress&&e.duration>0&&t.jsx("div",{className:"toast-progress",style:{animationDuration:`${e.duration}ms`,backgroundColor:i.progressColor}})]})}function v({toasts:e,onRemove:s}){return t.jsx(T,{toasts:e,onRemove:s})}let f=null;function y(e){f=e}function L(e,s="info",r=5e3){f?f(typeof e=="string"?{title:e,type:s,duration:r}:e):console.warn("Toast system not initialized. Wrap your app with ToastProvider or use useToast hook.")}export{v as T,w as a,L as s,C as u};
